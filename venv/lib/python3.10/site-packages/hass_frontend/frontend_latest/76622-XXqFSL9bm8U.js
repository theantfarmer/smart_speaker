export const id=76622;export const ids=[76622];export const modules={7323:(e,o,t)=>{t.d(o,{p:()=>i});const i=(e,o)=>e&&e.config.components.includes(o)},81582:(e,o,t)=>{t.d(o,{DJ:()=>i,RQ:()=>a,iJ:()=>r,pB:()=>n});const i=(e,o,t)=>{const i={type:"config_entries/subscribe"};return t&&t.type&&(i.type_filter=t.type),e.connection.subscribeMessage((e=>o(e)),i)},n=(e,o)=>{const t={};return o&&(o.type&&(t.type_filter=o.type),o.domain&&(t.domain=o.domain)),e.callWS({type:"config_entries/get",...t})},a=(e,o)=>e.callWS({type:"config_entries/get_single",entry_id:o}),r=(e,o)=>e.callApi("DELETE",`config/config_entries/entry/${o}`)},73728:(e,o,t)=>{t.d(o,{D4:()=>d,D7:()=>h,Ky:()=>s,V3:()=>g,WW:()=>f,XO:()=>l,ZJ:()=>u,oi:()=>c});var i=t(97330),n=t(38346),a=t(5986);const r={"HA-Frontend-Base":`${location.protocol}//${location.host}`},s=(e,o)=>{var t;return e.callApi("POST","config/config_entries/flow",{handler:o,show_advanced_options:Boolean(null===(t=e.userData)||void 0===t?void 0:t.showAdvanced)},r)},d=(e,o)=>e.callApi("GET",`config/config_entries/flow/${o}`,void 0,r),l=(e,o,t)=>e.callApi("POST",`config/config_entries/flow/${o}`,t,r),c=(e,o)=>e.callApi("DELETE",`config/config_entries/flow/${o}`),h=e=>e.sendMessagePromise({type:"config_entries/flow/progress"}),p=(e,o)=>e.subscribeEvents((0,n.D)((()=>h(e).then((e=>o.setState(e,!0)))),500,!0),"config_entry_discovered"),u=e=>(0,i._)(e,"_configFlowProgress",h,p),g=(e,o)=>u(e.connection).subscribe(o),f=(e,o)=>o.context.title_placeholders&&0!==Object.keys(o.context.title_placeholders).length?e(`component.${o.handler}.config.flow_title`,o.context.title_placeholders)||("name"in o.context.title_placeholders?o.context.title_placeholders.name:(0,a.Lh)(e,o.handler)):(0,a.Lh)(e,o.handler)},2852:(e,o,t)=>{t.d(o,{q:()=>s,t:()=>d});var i=t(68144),n=t(73728),a=t(5986),r=t(52871);const s=r.G,d=(e,o)=>(0,r.w)(e,o,{loadDevicesAndAreas:!0,createFlow:async(e,o)=>{const[t]=await Promise.all([(0,n.Ky)(e,o),e.loadBackendTranslation("config",o),e.loadBackendTranslation("selector",o),e.loadBackendTranslation("title",o)]);return t},fetchFlow:async(e,o)=>{const t=await(0,n.D4)(e,o);return await e.loadBackendTranslation("config",t.handler),await e.loadBackendTranslation("selector",t.handler),t},handleFlowStep:n.XO,deleteFlow:n.oi,renderAbortDescription(e,o){const t=e.localize(`component.${o.handler}.config.abort.${o.reason}`,o.description_placeholders);return t?i.dy` <ha-markdown allowsvg breaks .content="${t}"></ha-markdown> `:""},renderShowFormStepHeader:(e,o)=>e.localize(`component.${o.handler}.config.step.${o.step_id}.title`,o.description_placeholders)||e.localize(`component.${o.handler}.title`),renderShowFormStepDescription(e,o){const t=e.localize(`component.${o.handler}.config.step.${o.step_id}.description`,o.description_placeholders);return t?i.dy` <ha-markdown allowsvg breaks .content="${t}"></ha-markdown> `:""},renderShowFormStepFieldLabel:(e,o,t)=>e.localize(`component.${o.handler}.config.step.${o.step_id}.data.${t.name}`),renderShowFormStepFieldHelper(e,o,t){const n=e.localize(`component.${o.handler}.config.step.${o.step_id}.data_description.${t.name}`,o.description_placeholders);return n?i.dy`<ha-markdown breaks .content="${n}"></ha-markdown>`:""},renderShowFormStepFieldError:(e,o,t)=>e.localize(`component.${o.handler}.config.error.${t}`,o.description_placeholders)||t,renderShowFormStepFieldLocalizeValue:(e,o,t)=>e.localize(`component.${o.handler}.selector.${t}`),renderShowFormStepSubmitButton:(e,o)=>e.localize(`component.${o.handler}.config.step.${o.step_id}.submit`)||e.localize("ui.panel.config.integrations.config_flow."+(!1===o.last_step?"next":"submit")),renderExternalStepHeader:(e,o)=>e.localize(`component.${o.handler}.config.step.${o.step_id}.title`)||e.localize("ui.panel.config.integrations.config_flow.external_step.open_site"),renderExternalStepDescription(e,o){const t=e.localize(`component.${o.handler}.config.${o.step_id}.description`,o.description_placeholders);return i.dy` <p> ${e.localize("ui.panel.config.integrations.config_flow.external_step.description")} </p> ${t?i.dy` <ha-markdown allowsvg breaks .content="${t}"></ha-markdown> `:""} `},renderCreateEntryDescription(e,o){const t=e.localize(`component.${o.handler}.config.create_entry.${o.description||"default"}`,o.description_placeholders);return i.dy` ${t?i.dy` <ha-markdown allowsvg breaks .content="${t}"></ha-markdown> `:""} <p> ${e.localize("ui.panel.config.integrations.config_flow.created_config","name",o.title)} </p> `},renderShowFormProgressHeader:(e,o)=>e.localize(`component.${o.handler}.config.step.${o.step_id}.title`)||e.localize(`component.${o.handler}.title`),renderShowFormProgressDescription(e,o){const t=e.localize(`component.${o.handler}.config.progress.${o.progress_action}`,o.description_placeholders);return t?i.dy` <ha-markdown allowsvg breaks .content="${t}"></ha-markdown> `:""},renderMenuHeader:(e,o)=>e.localize(`component.${o.handler}.config.step.${o.step_id}.title`)||e.localize(`component.${o.handler}.title`),renderMenuDescription(e,o){const t=e.localize(`component.${o.handler}.config.step.${o.step_id}.description`,o.description_placeholders);return t?i.dy` <ha-markdown allowsvg breaks .content="${t}"></ha-markdown> `:""},renderMenuOption:(e,o,t)=>e.localize(`component.${o.handler}.config.step.${o.step_id}.menu_options.${t}`,o.description_placeholders),renderLoadingDescription(e,o,t,i){if("loading_flow"!==o&&"loading_step"!==o)return"";const n=(null==i?void 0:i.handler)||t;return e.localize(`ui.panel.config.integrations.config_flow.loading.${o}`,{integration:n?(0,a.Lh)(e.localize,n):e.localize("ui.panel.config.integrations.config_flow.loading.fallback_title")})}})},52871:(e,o,t)=>{t.d(o,{G:()=>n,w:()=>a});var i=t(47181);const n=()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(28597),t.e(2185),t.e(97487),t.e(52154),t.e(62043),t.e(40163),t.e(59159)]).then(t.bind(t,59159)),a=(e,o,t)=>{(0,i.B)(e,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:n,dialogParams:{...o,flowConfig:t,dialogParentElement:e}})}},73826:(e,o,t)=>{t.d(o,{f:()=>s});var i=t(17463),n=t(34541),a=t(47838),r=t(79932);const s=e=>(0,i.Z)(null,(function(e,o){class t extends o{constructor(...o){super(...o),e(this)}}return{F:t,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,n.Z)((0,a.Z)(t.prototype),"connectedCallback",this).call(this),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,n.Z)((0,a.Z)(t.prototype),"disconnectedCallback",this).call(this),this.__unsubs){for(;this.__unsubs.length;){const e=this.__unsubs.pop();e instanceof Promise?e.then((e=>e())):e()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(e){if((0,n.Z)((0,a.Z)(t.prototype),"updated",this).call(this,e),e.has("hass"))this.__checkSubscribed();else if(this.hassSubscribeRequiredHostProps)for(const o of e.keys())if(this.hassSubscribeRequiredHostProps.includes(o))return void this.__checkSubscribed()}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){var e;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some((e=>void 0===this[e]))||(this.__unsubs=this.hassSubscribe())}}]}}),e)},76622:(e,o,t)=>{t.r(o);var i=t(17463),n=t(34541),a=t(47838),r=(t(14271),t(68144)),s=t(79932),d=t(7323),l=t(47181),c=t(85415),h=t(81582),p=t(73728),u=t(5986);var g=t(2852),f=t(73826),b=t(72160);t(52039);(0,i.Z)([(0,s.Mo)("action-badge")],(function(e,o){return{F:class extends o{constructor(...o){super(...o),e(this)}},d:[{kind:"field",decorators:[(0,s.Cb)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"title",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"badgeIcon",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean,reflect:!0})],key:"clickable",value:()=>!1},{kind:"method",key:"render",value:function(){return r.dy` <div class="icon"> <ha-svg-icon .path="${this.icon}"></ha-svg-icon> ${this.badgeIcon?r.dy`<ha-svg-icon class="badge" .path="${this.badgeIcon}"></ha-svg-icon>`:""} </div> <div class="title">${this.title}</div> `}},{kind:"get",static:!0,key:"styles",value:function(){return r.iv`:host{display:inline-flex;flex-direction:column;text-align:center;color:var(--primary-text-color)}:host([clickable]){color:var(--primary-text-color)}.icon{position:relative;box-sizing:border-box;margin:0 auto 8px;height:40px;width:40px;border-radius:50%;border:1px solid var(--secondary-text-color);display:flex;align-items:center;justify-content:center}:host([clickable]) .icon{border-color:var(--primary-color);border-width:2px}.badge{position:absolute;color:var(--primary-color);bottom:-5px;right:-5px;background-color:#fff;border-radius:50%;width:18px;display:block;height:18px}.title{min-height:2.3em;word-break:break-word}`}}]}}),r.oi);var m=t(11254);(0,i.Z)([(0,s.Mo)("integration-badge")],(function(e,o){return{F:class extends o{constructor(...o){super(...o),e(this)}},d:[{kind:"field",decorators:[(0,s.Cb)()],key:"domain",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"title",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"badgeIcon",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean})],key:"darkOptimizedIcon",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean,reflect:!0})],key:"clickable",value:()=>!1},{kind:"method",key:"render",value:function(){return r.dy` <div class="icon"> <img alt="" src="${(0,m.X1)({domain:this.domain,type:"icon",darkOptimized:this.darkOptimizedIcon})}" referrerpolicy="no-referrer"> ${this.badgeIcon?r.dy`<ha-svg-icon class="badge" .path="${this.badgeIcon}"></ha-svg-icon>`:""} </div> <div class="title">${this.title}</div> `}},{kind:"get",static:!0,key:"styles",value:function(){return r.iv`:host{display:inline-flex;flex-direction:column;text-align:center;color:var(--primary-text-color)}:host([clickable]){color:var(--primary-text-color)}img{max-width:100%;max-height:100%}.icon{position:relative;margin:0 auto 8px;height:40px;width:40px;display:flex;align-items:center;justify-content:center}.badge{position:absolute;color:#fff;bottom:-7px;right:-10px;background-color:var(--label-badge-green);border-radius:50%;display:block;--mdc-icon-size:18px;border:2px solid #fff}.title{min-height:2.3em;word-break:break-word}`}}]}}),r.oi);const k=new Set(["hassio","met","radio_browser","rpi_power","sun"]);(0,i.Z)([(0,s.Mo)("onboarding-integrations")],(function(e,o){class t extends o{constructor(...o){super(...o),e(this)}}return{F:t,d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"onboardingLocalize",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_entries",value:()=>[]},{kind:"field",decorators:[(0,s.SB)()],key:"_discovered",value:void 0},{kind:"method",key:"hassSubscribe",value:function(){return[(0,p.V3)(this.hass,(e=>{this._discovered=e;const o=new Set;for(const t of e)t.context.title_placeholders&&o.add(t.handler);this.hass.loadBackendTranslation("config",Array.from(o))})),(0,h.DJ)(this.hass,(e=>{let o=!1;const t=[];if(e.forEach((e=>{if(null===e.type||"added"===e.type){if(k.has(e.entry.domain))return;t.push(e.entry),null===e.type&&(o=!0)}else if("removed"===e.type)this._entries=this._entries.filter((o=>o.entry_id!==e.entry.entry_id));else if("updated"===e.type){if(k.has(e.entry.domain))return;const o=e.entry;this._entries=this._entries.map((e=>e.entry_id===o.entry_id?o:e))}})),!t.length&&!o)return;const i=o?[]:this._entries;this._entries=[...i,...t]}),{type:["device","hub","service"]})]}},{kind:"method",key:"render",value:function(){if(!this._discovered)return r.Ld;const e=[...this._entries.map((e=>{var o;const t=e.title||(0,u.Lh)(this.hass.localize,e.domain)||e.domain;return[t,r.dy` <integration-badge .domain="${e.domain}" .title="${t}" .badgeIcon="${"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}" .darkOptimizedIcon="${null===(o=this.hass.themes)||void 0===o?void 0:o.darkMode}"></integration-badge> `]})),...this._discovered.map((e=>{var o;const t=(0,p.WW)(this.hass.localize,e);return[t,r.dy` <button .flowId="${e.flow_id}" @click="${this._continueFlow}"> <integration-badge clickable .domain="${e.handler}" .title="${t}" .darkOptimizedIcon="${null===(o=this.hass.themes)||void 0===o?void 0:o.darkMode}"></integration-badge> </button> `]}))].sort(((e,o)=>(0,c.$)(e[0],o[0],this.hass.locale.language))).map((e=>e[1]));return r.dy` <p> ${this.onboardingLocalize("ui.panel.page-onboarding.integration.intro")} </p> <div class="badges"> ${e} <button @click="${this._createFlow}"> <action-badge clickable title="${this.onboardingLocalize("ui.panel.page-onboarding.integration.more_integrations")}" .icon="${"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"}"></action-badge> </button> </div> <div class="footer"> <mwc-button @click="${this._finish}"> ${this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")} </mwc-button> </div> `}},{kind:"method",key:"firstUpdated",value:function(e){(0,n.Z)((0,a.Z)(t.prototype),"firstUpdated",this).call(this,e),this.hass.loadBackendTranslation("title",void 0,!0),this._scanUSBDevices(),(0,g.q)()}},{kind:"method",key:"_createFlow",value:function(){(0,b.E)(this)}},{kind:"method",key:"_continueFlow",value:function(e){(0,g.t)(this,{continueFlowId:e.currentTarget.flowId,dialogClosedCallback:()=>{(0,p.ZJ)(this.hass.connection).refresh()}})}},{kind:"method",key:"_scanUSBDevices",value:async function(){var e;(0,d.p)(this.hass,"usb")&&await(e=this.hass,e.callWS({type:"usb/scan"}))}},{kind:"method",key:"_finish",value:async function(){(0,l.B)(this,"onboarding-step",{type:"integration"})}},{kind:"get",static:!0,key:"styles",value:function(){return r.iv`.badges{margin-top:24px;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;align-items:flex-start}.badges>*{width:96px;margin-bottom:24px}button{cursor:pointer;padding:0;border:0;background:0;font:inherit}.footer{text-align:right}`}}]}}),(0,f.f)(r.oi))},72160:(e,o,t)=>{t.d(o,{E:()=>n,u:()=>a});var i=t(47181);const n=(e,o)=>{(0,i.B)(e,"show-dialog",{dialogTag:"dialog-add-integration",dialogImport:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(63436),t.e(28597),t.e(52154),t.e(81480),t.e(75814)]).then(t.bind(t,92205)),dialogParams:o})},a=(e,o)=>{(0,i.B)(e,"show-dialog",{dialogTag:"dialog-yaml-integration",dialogImport:()=>t.e(64348).then(t.bind(t,64348)),dialogParams:o})}},11254:(e,o,t)=>{t.d(o,{X1:()=>i,u4:()=>n,zC:()=>a});const i=e=>`https://brands.home-assistant.io/${e.brand?"brands/":""}${e.useFallback?"_/":""}${e.domain}/${e.darkOptimized?"dark_":""}${e.type}.png`,n=e=>e.split("/")[4],a=e=>e.startsWith("https://brands.home-assistant.io/")}};
//# sourceMappingURL=76622-XXqFSL9bm8U.js.map