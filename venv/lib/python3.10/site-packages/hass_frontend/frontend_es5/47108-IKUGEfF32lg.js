"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[47108,4631],{60228:function(t,e,n){n.d(e,{j:function(){return i}});var a=n(7323),i=function(t,e){return(o(e)||r(t,e))&&!s(t,e)},r=function(t,e){return e.component?(0,a.p)(t,e.component):!e.components||e.components.some((function(e){return(0,a.p)(t,e)}))},o=function(t){return t.core},s=function(t,e){return function(t){return t.advancedOnly}(e)&&!function(t){var e;return null===(e=t.userData)||void 0===e?void 0:e.showAdvanced}(t)}},26410:function(t,e,n){n.d(e,{Bt:function(){return o},T8:function(){return s}});var a=n(22075),i=n(66477),r=(n(10520),["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]),o=function(t){return t.first_weekday===i.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(t.language).weekInfo.firstDay%7:(0,a.L)(t.language)%7:r.includes(t.first_weekday)?r.indexOf(t.first_weekday):1},s=function(t){var e=o(t);return r[e]}},80596:function(t,e,n){n.d(e,{G:function(){return l}});var a=n(14516),i=(n(10520),n(24112)),r=n(59401),o=n(35040),s=n(26410);var c={second:45,minute:45,hour:22,day:5,week:4,month:11},u=(0,a.Z)((function(t){return new Intl.RelativeTimeFormat(t.language,{numeric:"auto"})})),l=function(t,e,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=Object.assign(Object.assign({},c),a||{}),l=(+t-+e)/1e3;if(Math.abs(l)<u.second)return{value:Math.round(l),unit:"second"};var d=l/60;if(Math.abs(d)<u.minute)return{value:Math.round(d),unit:"minute"};var h=l/3600;if(Math.abs(h)<u.hour)return{value:Math.round(h),unit:"hour"};var f=new Date(t),p=new Date(e);f.setHours(0,0,0,0),p.setHours(0,0,0,0);var v=(0,i.Z)(f,p);if(0===v)return{value:Math.round(h),unit:"hour"};if(Math.abs(v)<u.day)return{value:v,unit:"day"};var g=(0,s.Bt)(n),k=(0,r.Z)(f,{weekStartsOn:g}),y=(0,r.Z)(p,{weekStartsOn:g}),m=(0,o.Z)(k,y);if(0===m)return{value:v,unit:"day"};if(Math.abs(m)<u.week)return{value:m,unit:"week"};var b=f.getFullYear()-p.getFullYear(),w=12*b+f.getMonth()-p.getMonth();return 0===w?{value:m,unit:"week"}:Math.abs(w)<u.month||0===b?{value:w,unit:"month"}:{value:Math.round(b),unit:"year"}}(t,n,e);return a?u(e).format(l.value,l.unit):Intl.NumberFormat(e.language,{style:"unit",unit:l.unit,unitDisplay:"long"}).format(Math.abs(l.value))}},35197:function(t,e,n){var a,i,r,o,s,c=n(88962),u=n(33368),l=n(71650),d=n(82390),h=n(69205),f=n(70906),p=n(91808),v=n(68144),g=n(79932),k=n(30153),y=n(83849);n(99282),n(73366),n(52039),(0,p.Z)([(0,g.Mo)("ha-navigation-list")],(function(t,e){var n=function(e){(0,h.Z)(a,e);var n=(0,f.Z)(a);function a(){var e;(0,l.Z)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),t((0,d.Z)(e)),e}return(0,u.Z)(a)}(e);return{F:n,d:[{kind:"field",decorators:[(0,g.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,g.Cb)({type:Boolean})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,g.Cb)({attribute:!1})],key:"pages",value:void 0},{kind:"field",decorators:[(0,g.Cb)({type:Boolean})],key:"hasSecondary",value:function(){return!1}},{kind:"field",decorators:[(0,g.Cb)()],key:"label",value:void 0},{kind:"method",key:"render",value:function(){var t=this;return(0,v.dy)(a||(a=(0,c.Z)([' <mwc-list innerRole="menu" itemRoles="menuitem" innerAriaLabel="','" @action="','"> '," </mwc-list> "])),(0,k.o)(this.label),this._handleListAction,this.pages.map((function(e){return(0,v.dy)(i||(i=(0,c.Z)([' <ha-list-item graphic="avatar" .twoline="','" .hasMeta="','"> <div slot="graphic" class="','" .style="background-color: ','"> <ha-svg-icon .path="','"></ha-svg-icon> </div> <span>',"</span> "," "," </ha-list-item> "])),t.hasSecondary,!t.narrow,e.iconColor?"icon-background":"",e.iconColor||"undefined",e.iconPath,e.name,t.hasSecondary?(0,v.dy)(r||(r=(0,c.Z)(['<span slot="secondary">',"</span>"])),e.description):"",t.narrow?"":(0,v.dy)(o||(o=(0,c.Z)(['<ha-icon-next slot="meta"></ha-icon-next>']))))})))}},{kind:"method",key:"_handleListAction",value:function(t){var e=this.pages[t.detail.index].path;e.endsWith("#external-app-configuration")?this.hass.auth.external.fireMessage({type:"config_screen/show"}):(0,y.c)(e)}},{kind:"field",static:!0,key:"styles",value:function(){return(0,v.iv)(s||(s=(0,c.Z)([":host{--mdc-list-vertical-padding:0}ha-icon-next,ha-svg-icon{color:var(--secondary-text-color);height:24px;width:24px;display:block}ha-svg-icon{padding:8px}.icon-background{border-radius:50%}.icon-background ha-svg-icon{color:#fff}ha-list-item{cursor:pointer;font-size:var(--navigation-list-item-title-font-size)}"])))}}]}}),v.oi)},2179:function(t,e,n){n.d(e,{FZ:function(){return r},I0:function(){return a},ZE:function(){return i},Zk:function(){return o}});var a=function(t){return"/api/backup/download/".concat(t)},i=function(t){return t.callWS({type:"backup/info"})},r=function(t,e){return t.callWS({type:"backup/remove",slug:e})},o=function(t){return t.callWS({type:"backup/generate"})}},47108:function(t,e,n){n.r(e);var a,i,r=n(99312),o=n(81043),s=n(88962),c=n(33368),u=n(71650),l=n(82390),d=n(69205),h=n(70906),f=n(91808),p=n(34541),v=n(47838),g=n(68144),k=n(79932),y=n(60228),m=n(7323),b=n(80596),w=n(68307),x=(n(22098),n(10983),n(35197),n(2179)),_=n(83270),Z=n(45355),I=n(63864),S=n(41682),z=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,I.I)(e.config.version,2021,2,4)){t.next=5;break}return t.next=3,e.callWS({type:"supervisor/api",endpoint:"/".concat((0,I.I)(e.config.version,2021,9)?"backups":"snapshots"),method:"get"});case 3:return n=t.sent,t.abrupt("return",n[(0,I.I)(e.config.version,2021,9)?"backups":"snapshots"]);case 5:return t.t0=S.rY,t.next=8,e.callApi("GET","hassio/".concat((0,I.I)(e.config.version,2021,9)?"backups":"snapshots"));case 8:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1).snapshots);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=n(35460),C=n(82494),B=(n(60010),n(11654)),A=(n(88165),n(29311));(0,f.Z)([(0,k.Mo)("ha-config-system-navigation")],(function(t,e){var n,f,I,S,W,D=function(e){(0,d.Z)(a,e);var n=(0,h.Z)(a);function a(){var e;(0,u.Z)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),t((0,l.Z)(e)),e}return(0,c.Z)(a)}(e);return{F:D,d:[{kind:"field",decorators:[(0,k.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Boolean,reflect:!0})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Boolean})],key:"isWide",value:void 0},{kind:"field",decorators:[(0,k.Cb)({attribute:!1})],key:"cloudStatus",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Boolean})],key:"showAdvanced",value:void 0},{kind:"field",decorators:[(0,k.SB)()],key:"_latestBackupDate",value:void 0},{kind:"field",decorators:[(0,k.SB)()],key:"_boardName",value:void 0},{kind:"field",decorators:[(0,k.SB)()],key:"_storageInfo",value:void 0},{kind:"field",decorators:[(0,k.SB)()],key:"_externalAccess",value:function(){return!1}},{kind:"method",key:"render",value:function(){var t=this,e=A.configSections.general.filter((function(e){return(0,y.j)(t.hass,e)})).map((function(e){var n="";switch(e.translationKey){case"backup":n=t._latestBackupDate?t.hass.localize("ui.panel.config.backup.description","relative_time",(0,b.G)(new Date(t._latestBackupDate),t.hass.locale)):t.hass.localize("ui.panel.config.backup.description_no_backup");break;case"network":n=t.hass.localize("ui.panel.config.network.description","state",t._externalAccess?t.hass.localize("ui.panel.config.network.enabled"):t.hass.localize("ui.panel.config.network.disabled"));break;case"storage":n=t._storageInfo?t.hass.localize("ui.panel.config.storage.description","percent_used","".concat(Math.round(t._storageInfo.used/t._storageInfo.total*100)).concat((0,w.K)(t.hass.locale),"%"),"free_space","".concat(t._storageInfo.free," GB")):"";break;case"hardware":n=t._boardName||t.hass.localize("ui.panel.config.hardware.description");break;default:n=t.hass.localize("ui.panel.config.".concat(e.translationKey,".description"))}return Object.assign(Object.assign({},e),{},{name:e.translationKey?t.hass.localize("ui.panel.config.".concat(e.translationKey,".caption")):e.name,description:n})}));return(0,g.dy)(a||(a=(0,s.Z)([' <hass-subpage .hass="','" back-path="/config" .header="','"> <ha-icon-button slot="toolbar-icon" .path="','" .label="','" @click="','"></ha-icon-button> <ha-config-section .narrow="','" .isWide="','" full-width> <ha-card outlined> <ha-navigation-list .hass="','" .narrow="','" .pages="','" hasSecondary .label="','"></ha-navigation-list> </ha-card> </ha-config-section> </hass-subpage> '])),this.hass,this.hass.localize("ui.panel.config.dashboard.system.main"),"M16.56,5.44L15.11,6.89C16.84,7.94 18,9.83 18,12A6,6 0 0,1 12,18A6,6 0 0,1 6,12C6,9.83 7.16,7.94 8.88,6.88L7.44,5.44C5.36,6.88 4,9.28 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12C20,9.28 18.64,6.88 16.56,5.44M13,3H11V13H13",this.hass.localize("ui.panel.config.system_dashboard.restart_homeassistant"),this._showRestartDialog,this.narrow,this.isWide,this.hass,this.narrow,e,this.hass.localize("ui.panel.config.dashboard.system.main"))}},{kind:"method",key:"firstUpdated",value:function(t){(0,p.Z)((0,v.Z)(D.prototype),"firstUpdated",this).call(this,t),this._fetchNetworkStatus();var e=(0,m.p)(this.hass,"hassio");this._fetchBackupInfo(e),this._fetchHardwareInfo(e),e&&this._fetchStorageInfo()}},{kind:"method",key:"_fetchBackupInfo",value:(W=(0,o.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,z(this.hass);case 3:t.t0=t.sent,t.next=14;break;case 6:if(!(0,m.p)(this.hass,"backup")){t.next=12;break}return t.next=9,(0,x.ZE)(this.hass).then((function(t){return t.backups}));case 9:t.t1=t.sent,t.next=13;break;case 12:t.t1=[];case 13:t.t0=t.t1;case 14:(n=t.t0).length>0&&(this._latestBackupDate=n.reduce((function(t,e){return t.date>e.date?t:e})).date);case 16:case"end":return t.stop()}}),t,this)}))),function(t){return W.apply(this,arguments)})},{kind:"method",key:"_fetchHardwareInfo",value:(S=(0,o.Z)((0,r.Z)().mark((function t(e){var n,a,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,m.p)(this.hass,"hardware")){t.next=7;break}return t.next=3,this.hass.callWS({type:"hardware/info"});case 3:a=t.sent,this._boardName=null==a||null===(n=a.hardware.find((function(t){return null!==t.board})))||void 0===n?void 0:n.name,t.next=12;break;case 7:if(!e){t.next=12;break}return t.next=10,(0,M.AP)(this.hass);case 10:(i=t.sent).board&&(this._boardName=Z.d[i.board]);case 12:case"end":return t.stop()}}),t,this)}))),function(t){return S.apply(this,arguments)})},{kind:"method",key:"_fetchStorageInfo",value:(I=(0,o.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,M.Sj)(this.hass);case 2:e=t.sent,this._storageInfo={used:e.disk_used,free:e.disk_free,total:e.disk_total};case 4:case"end":return t.stop()}}),t,this)}))),function(){return I.apply(this,arguments)})},{kind:"method",key:"_fetchNetworkStatus",value:(f=(0,o.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,m.p)(this.hass,"cloud")){t.next=7;break}return t.next=3,(0,_.LI)(this.hass);case 3:if(!t.sent.logged_in){t.next=7;break}return this._externalAccess=!0,t.abrupt("return");case 7:this._externalAccess=null!==this.hass.config.external_url;case 8:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{kind:"method",key:"_showRestartDialog",value:(n=(0,o.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,C.s)(this);case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[B.Qx,(0,g.iv)(i||(i=(0,s.Z)([":host(:not([narrow])) ha-card{margin-bottom:max(24px,env(safe-area-inset-bottom))}ha-config-section{margin:auto;margin-top:-32px;max-width:600px}ha-card{overflow:hidden;margin-bottom:24px;margin-bottom:max(24px,env(safe-area-inset-bottom))}ha-card a{text-decoration:none;color:var(--primary-text-color)}.title{font-size:16px;padding:16px;padding-bottom:0}.restart-section{display:flex;align-items:center;flex-direction:column;justify-content:center;margin-bottom:24px}@media all and (max-width:600px){ha-card{border-width:1px 0;border-radius:0;box-shadow:unset}ha-config-section{margin-top:-42px}}ha-navigation-list{--navigation-list-item-title-font-size:16px}"])))]}}]}}),g.oi)},88165:function(t,e,n){var a,i,r=n(88962),o=n(33368),s=n(71650),c=n(82390),u=n(69205),l=n(70906),d=n(91808),h=n(68144),f=n(79932),p=n(83448);(0,d.Z)([(0,f.Mo)("ha-config-section")],(function(t,e){var n=function(e){(0,u.Z)(a,e);var n=(0,l.Z)(a);function a(){var e;(0,s.Z)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),t((0,c.Z)(e)),e}return(0,o.Z)(a)}(e);return{F:n,d:[{kind:"field",decorators:[(0,f.Cb)()],key:"isWide",value:function(){return!1}},{kind:"field",decorators:[(0,f.Cb)({type:Boolean})],key:"vertical",value:function(){return!1}},{kind:"field",decorators:[(0,f.Cb)({type:Boolean,attribute:"full-width"})],key:"fullWidth",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,h.dy)(a||(a=(0,r.Z)([' <div class="content ','"> <div class="header"><slot name="header"></slot></div> <div class="together layout ','"> <div class="intro"><slot name="introduction"></slot></div> <div class="panel flex-auto"><slot></slot></div> </div> </div> '])),(0,p.$)({narrow:!this.isWide,"full-width":this.fullWidth}),(0,p.$)({narrow:!this.isWide,vertical:this.vertical||!this.isWide,horizontal:!this.vertical&&this.isWide}))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,h.iv)(i||(i=(0,r.Z)([":host{display:block}.content{padding:28px 20px 0;max-width:1040px;margin:0 auto}.layout{display:flex}.horizontal{flex-direction:row}.vertical{flex-direction:column}.flex-auto{flex:1 1 auto}.header{font-family:var(--paper-font-headline_-_font-family);-webkit-font-smoothing:var(--paper-font-headline_-_-webkit-font-smoothing);font-size:var(--paper-font-headline_-_font-size);font-weight:var(--paper-font-headline_-_font-weight);letter-spacing:var(--paper-font-headline_-_letter-spacing);line-height:var(--paper-font-headline_-_line-height);opacity:var(--dark-primary-opacity)}.together{margin-top:32px}.intro{font-family:var(--paper-font-subhead_-_font-family);-webkit-font-smoothing:var(--paper-font-subhead_-_-webkit-font-smoothing);font-weight:var(--paper-font-subhead_-_font-weight);line-height:var(--paper-font-subhead_-_line-height);width:100%;opacity:var(--dark-primary-opacity);font-size:14px;padding-bottom:20px}.horizontal .intro{max-width:400px;margin-right:40px}.panel{margin-top:-24px}.panel ::slotted(*){margin-top:24px;display:block}.narrow.content{max-width:640px}.narrow .together{margin-top:20px}.narrow .intro{padding-bottom:20px;margin-right:0;max-width:500px}.full-width{padding:0}.full-width .layout{flex-direction:column}"])))}}]}}),h.oi)},10520:function(t,e,n){n.r(e);n(7151),n(33633),n(25534),n(64827),n(23044),n(1437),n(87520),n(42661),n(78337),n(87065),n(6042),n(19440),n(50897),n(30056),n(12679)}}]);
//# sourceMappingURL=47108-IKUGEfF32lg.js.map