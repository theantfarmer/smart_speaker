"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[33688],{33688:function(e,t,i){i.r(t);var n=i(40039),s=i(76775),r=i(33368),a=i(71650),l=i(82390),o=i(69205),h=i(70906),d=i(91808),f=i(34541),u=i(47838),c=i(68144),y=i(79932),_=i(50467),v=i(53936),g=i(15688),m=i(90271),k=i(51153),C=(0,d.Z)(null,(function(e,t){var i=function(t){(0,o.Z)(n,t);var i=(0,h.Z)(n);function n(){var t;(0,a.Z)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return t=i.call.apply(i,[this].concat(r)),e((0,l.Z)(t)),t}return(0,r.Z)(n)}(t);return{F:i,d:[{kind:"method",static:!0,key:"getStubConfig",value:function(e,t,i){var n=(0,g.j)(e,3,t,i,["light","switch","sensor"]);return{type:"entity-filter",entities:n,state_filter:[n[0]?e.states[n[0]].state:""],card:{type:"entities"}}}},{kind:"field",decorators:[(0,y.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,y.Cb)()],key:"isPanel",value:function(){return!1}},{kind:"field",decorators:[(0,y.Cb)()],key:"editMode",value:function(){return!1}},{kind:"field",decorators:[(0,y.SB)()],key:"_config",value:void 0},{kind:"field",key:"_element",value:void 0},{kind:"field",key:"_configEntities",value:void 0},{kind:"field",key:"_baseCardConfig",value:void 0},{kind:"field",key:"_oldEntities",value:void 0},{kind:"method",key:"getCardSize",value:function(){return this._element?(0,_.N)(this._element):1}},{kind:"method",key:"setConfig",value:function(e){if(!e.entities.length||!Array.isArray(e.entities))throw new Error("Entities must be specified");if(!(e.state_filter&&Array.isArray(e.state_filter)||e.entities.every((function(e){return"object"===(0,s.Z)(e)&&e.state_filter&&Array.isArray(e.state_filter)}))))throw new Error("Incorrect filter config");this._configEntities=(0,m.A)(e.entities),this._config=e,this._baseCardConfig=Object.assign({type:"entities",entities:[]},this._config.card),this.lastChild&&this.removeChild(this.lastChild),this._element=this._createCardElement(this._baseCardConfig)}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"shouldUpdate",value:function(e){return this._element&&(this._element.hass=this.hass,this._element.editMode=this.editMode,this._element.isPanel=this.isPanel),!!e.has("_config")||!!e.has("hass")&&this._haveEntitiesChanged(e.get("hass"))}},{kind:"method",key:"update",value:function(e){var t=this;if((0,f.Z)((0,u.Z)(i.prototype),"update",this).call(this,e),this.hass&&this._config&&this._configEntities&&this._element){var s=this._configEntities.filter((function(e){var i=t.hass.states[e.entity];if(!i)return!1;if(e.state_filter){var s,r=(0,n.Z)(e.state_filter);try{for(r.s();!(s=r.n()).done;){var a=s.value;if((0,v.A)(i,a))return!0}}catch(d){r.e(d)}finally{r.f()}}else{var l,o=(0,n.Z)(t._config.state_filter);try{for(o.s();!(l=o.n()).done;){var h=l.value;if((0,v.A)(i,h))return!0}}catch(d){o.e(d)}finally{o.f()}}return!1}));if(0!==s.length||!1!==this._config.show_empty){if(this.lastChild){if("HUI-ERROR-CARD"!==this._element.tagName){this._oldEntities&&s.length===this._oldEntities.length&&s.every((function(e,i){return e===t._oldEntities[i]}))||(this._oldEntities=s,this._element.setConfig(Object.assign(Object.assign({},this._baseCardConfig),{},{entities:s})))}}else this._element.setConfig(Object.assign(Object.assign({},this._baseCardConfig),{},{entities:s})),this._oldEntities=s;this.lastChild||this.appendChild(this._element),this.style.display="block"}else this.style.display="none"}}},{kind:"method",key:"_haveEntitiesChanged",value:function(e){if(!this.hass||!e)return!0;if(!this._configEntities)return!0;if(this.hass.localize!==e.localize)return!0;var t,i=(0,n.Z)(this._configEntities);try{for(i.s();!(t=i.n()).done;){var s=t.value;if(this.hass.states[s.entity]!==e.states[s.entity])return!0}}catch(r){i.e(r)}finally{i.f()}return!1}},{kind:"method",key:"_createCardElement",value:function(e){var t=this,i=(0,k.Z6)(e);return this.hass&&(i.hass=this.hass),i.isPanel=this.isPanel,i.editMode=this.editMode,i.addEventListener("ll-rebuild",(function(n){n.stopPropagation(),t._rebuildCard(i,e)}),{once:!0}),i}},{kind:"method",key:"_rebuildCard",value:function(e,t){var i=this._createCardElement(t);e.parentElement&&e.parentElement.replaceChild(i,e),this._element=i}}]}}),c.fl);customElements.define("hui-entity-filter-card",C)},53936:function(e,t,i){i.d(t,{A:function(){return s}});var n=i(76775),s=function(e,t){var i,s=t.operator||"==",r=null!==(i=t.value)&&void 0!==i?i:t,a=t.attribute?e.attributes[t.attribute]:e.state;if("=="===s||"!="===s){var l="number"==typeof r||"string"==typeof r&&r.trim()&&!isNaN(Number(r)),o="number"==typeof a||"string"==typeof a&&a.trim()&&!isNaN(Number(a));l&&o&&(r=Number(r),a=Number(a))}switch(s){case"==":return a===r;case"<=":return a<=r;case"<":return a<r;case">=":return a>=r;case">":return a>r;case"!=":return a!==r;case"in":return!(!Array.isArray(r)&&"string"!=typeof r)&&r.includes(a);case"not in":return!(!Array.isArray(r)&&"string"!=typeof r)&&!r.includes(a);case"regex":return null!==a&&"object"===(0,n.Z)(a)?RegExp(r).test(JSON.stringify(a)):RegExp(r).test(a);default:return!1}}}}]);
//# sourceMappingURL=33688-pPpufw6NoUg.js.map