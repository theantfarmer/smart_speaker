"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[91185],{66711:function(t,n,e){e.r(n),e.d(n,{HaTargetSelector:function(){return k}});var r,i,u=e(88962),o=e(33368),a=e(71650),c=e(82390),s=e(69205),f=e(70906),l=e(91808),d=e(34541),y=e(47838),v=e(68144),p=e(79932),g=e(14516),h=e(76680),_=e(57292),m=e(75012),b=e(33855),k=(e(63681),(0,l.Z)([(0,p.Mo)("ha-selector-target")],(function(t,n){var e=function(n){(0,s.Z)(r,n);var e=(0,f.Z)(r);function r(){var n;(0,a.Z)(this,r);for(var i=arguments.length,u=new Array(i),o=0;o<i;o++)u[o]=arguments[o];return n=e.call.apply(e,[this].concat(u)),t((0,c.Z)(n)),n}return(0,o.Z)(r)}(n);return{F:e,d:[{kind:"field",decorators:[(0,p.Cb)()],key:"hass",value:void 0},{kind:"field",decorators:[(0,p.Cb)()],key:"selector",value:void 0},{kind:"field",decorators:[(0,p.Cb)()],key:"value",value:void 0},{kind:"field",decorators:[(0,p.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,p.Cb)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,p.Cb)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,p.SB)()],key:"_entitySources",value:void 0},{kind:"field",key:"_deviceIntegrationLookup",value:function(){return(0,g.Z)(_.HP)}},{kind:"method",key:"_hasIntegration",value:function(t){var n,e;return(null===(n=t.target)||void 0===n?void 0:n.entity)&&(0,h.r)(t.target.entity).some((function(t){return t.integration}))||(null===(e=t.target)||void 0===e?void 0:e.device)&&(0,h.r)(t.target.device).some((function(t){return t.integration}))}},{kind:"method",key:"updated",value:function(t){var n=this;(0,d.Z)((0,y.Z)(e.prototype),"updated",this).call(this,t),t.has("selector")&&this._hasIntegration(this.selector)&&!this._entitySources&&(0,m.m)(this.hass).then((function(t){n._entitySources=t}))}},{kind:"method",key:"render",value:function(){return this._hasIntegration(this.selector)&&!this._entitySources?v.Ld:(0,v.dy)(r||(r=(0,u.Z)(['<ha-target-picker .hass="','" .value="','" .helper="','" .deviceFilter="','" .entityFilter="','" .disabled="','"></ha-target-picker>'])),this.hass,this.value,this.helper,this._filterDevices,this._filterEntities,this.disabled)}},{kind:"field",key:"_filterEntities",value:function(){var t=this;return function(n){var e;return null===(e=t.selector.target)||void 0===e||!e.entity||(0,h.r)(t.selector.target.entity).some((function(e){return(0,b.lV)(e,n,t._entitySources)}))}}},{kind:"field",key:"_filterDevices",value:function(){var t=this;return function(n){var e;if(null===(e=t.selector.target)||void 0===e||!e.device)return!0;var r=t._entitySources?t._deviceIntegrationLookup(t._entitySources,Object.values(t.hass.entities)):void 0;return(0,h.r)(t.selector.target.device).some((function(t){return(0,b.lE)(t,n,r)}))}}},{kind:"get",static:!0,key:"styles",value:function(){return(0,v.iv)(i||(i=(0,u.Z)(["ha-target-picker{display:block}"])))}}]}}),v.oi))},57066:function(t,n,e){if(e.d(n,{Dl:function(){return v},IO:function(){return c},Lo:function(){return a},TD:function(){return y},qv:function(){return s},sG:function(){return d}}),32143==e.j)var r=e(40039);var i=e(97330),u=e(85415),o=e(38346),a=function(t,n){return t.callWS(Object.assign({type:"config/area_registry/create"},n))},c=function(t,n,e){return t.callWS(Object.assign({type:"config/area_registry/update",area_id:n},e))},s=function(t,n){return t.callWS({type:"config/area_registry/delete",area_id:n})},f=function(t){return t.sendMessagePromise({type:"config/area_registry/list"}).then((function(t){return t.sort((function(t,n){return(0,u.$)(t.name,n.name)}))}))},l=function(t,n){return t.subscribeEvents((0,o.D)((function(){return f(t).then((function(t){return n.setState(t,!0)}))}),500,!0),"area_registry_updated")},d=function(t,n){return(0,i.B)("_areaRegistry",f,l,t,n)},y=function(t){var n,e={},i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var u=n.value;u.area_id&&(u.area_id in e||(e[u.area_id]=[]),e[u.area_id].push(u))}}catch(o){i.e(o)}finally{i.f()}return e},v=function(t){var n,e={},i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var u=n.value;u.area_id&&(u.area_id in e||(e[u.area_id]=[]),e[u.area_id].push(u))}}catch(o){i.e(o)}finally{i.f()}return e}},22814:function(t,n,e){if(e.d(n,{TZ:function(){return d},W2:function(){return l},WD:function(){return f},iI:function(){return s},oT:function(){return c},uw:function(){return a}}),32143==e.j)var r=e(99312);if(32143==e.j)var i=e(81043);var u,o,a="".concat(location.protocol,"//").concat(location.host),c=function(t){return t.map((function(t){if("string"!==t.type)return t;switch(t.name){case"username":return Object.assign(Object.assign({},t),{},{autocomplete:"username"});case"password":return Object.assign(Object.assign({},t),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},t),{},{autocomplete:"one-time-code"});default:return t}}))},s=function(t,n){return t.callWS({type:"auth/sign_path",path:n})},f=function(){return fetch("/auth/providers",{credentials:"same-origin"})},l=32143==e.j?(u=(0,i.Z)((0,r.Z)().mark((function t(n,e,i,u){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.callWS({type:"config/auth_provider/homeassistant/create",user_id:e,username:i,password:u}));case 1:case"end":return t.stop()}}),t)}))),function(t,n,e,r){return u.apply(this,arguments)}):null,d=32143==e.j?(o=(0,i.Z)((0,r.Z)().mark((function t(n,e,i){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:e,password:i}));case 1:case"end":return t.stop()}}),t)}))),function(t,n,e){return o.apply(this,arguments)}):null},56007:function(t,n,e){e.d(n,{PX:function(){return o},V_:function(){return a},lz:function(){return u},nZ:function(){return i},rk:function(){return s}});var r=e(57966),i="unavailable",u="unknown",o="off",a=[i,u],c=[i,u,o],s=(0,r.z)(a);(0,r.z)(c)},74186:function(t,n,e){e.d(n,{Iq:function(){return y},L3:function(){return d},LM:function(){return m},Mw:function(){return w},Nv:function(){return v},_V:function(){return Z},eD:function(){return s},hg:function(){return g},ol:function(){return k},vA:function(){return l},w1:function(){return S},wX:function(){return f},z3:function(){return p}});var r=e(40039),i=e(97330),u=e(14516),o=e(91741),a=e(85415),c=e(38346),s=function(t,n){return n.find((function(n){return t.states[n.entity_id]&&"battery"===t.states[n.entity_id].attributes.device_class}))},f=function(t,n){return n.find((function(n){return t.states[n.entity_id]&&"battery_charging"===t.states[n.entity_id].attributes.device_class}))},l=function(t,n){if(n.name)return n.name;var e=t.states[n.entity_id];return e?(0,o.C)(e):n.original_name?n.original_name:n.entity_id},d=function(t,n){return t.callWS({type:"config/entity_registry/get",entity_id:n})},y=function(t,n){return t.callWS({type:"config/entity_registry/get_entries",entity_ids:n})},v=function(t,n,e){return t.callWS(Object.assign({type:"config/entity_registry/update",entity_id:n},e))},p=function(t,n){return t.callWS({type:"config/entity_registry/remove",entity_id:n})},g=function(t){return t.sendMessagePromise({type:"config/entity_registry/list"})},h=function(t){return t.sendMessagePromise({type:"config/entity_registry/list_for_display"})},_=function(t,n){return t.subscribeEvents((0,c.D)((function(){return g(t).then((function(t){return n.setState(t,!0)}))}),500,!0),"entity_registry_updated")},m=function(t,n){return(0,i.B)("_entityRegistry",g,_,t,n)},b=function(t,n){return t.subscribeEvents((0,c.D)((function(){return h(t).then((function(t){return n.setState(t,!0)}))}),500,!0),"entity_registry_updated")},k=function(t,n){return(0,i.B)("_entityRegistryDisplay",h,b,t,n)},Z=function(t,n){return t.sort((function(t,e){return(0,a.f)(t.name||"",e.name||"",n)}))},S=(0,u.Z)((function(t){var n,e={},i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var u=n.value;e[u.entity_id]=u}}catch(o){i.e(o)}finally{i.f()}return e})),w=(0,u.Z)((function(t){var n,e={},i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var u=n.value;e[u.id]=u}}catch(o){i.e(o)}finally{i.f()}return e}))},75012:function(t,n,e){e.d(n,{m:function(){return a}});var r=e(99312),i=e(81043),u=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(n,e,i,o,a){var c,s,f,l,d,y,v,p=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(c=p.length,s=new Array(c>5?c-5:0),f=5;f<c;f++)s[f-5]=p[f];if(d=(l=a)[n],y=function(t){return o&&o(a,t.result)!==t.cacheKey?(l[n]=void 0,u.apply(void 0,[n,e,i,o,a].concat(s))):t.result},!d){t.next=6;break}return t.abrupt("return",d instanceof Promise?d.then(y):y(d));case 6:return v=i.apply(void 0,[a].concat(s)),l[n]=v,v.then((function(t){l[n]={result:t,cacheKey:null==o?void 0:o(a,t)},setTimeout((function(){l[n]=void 0}),e)}),(function(){l[n]=void 0})),t.abrupt("return",v);case 10:case"end":return t.stop()}}),t)})));return function(n,e,r,i,u){return t.apply(this,arguments)}}(),o=function(t,n){return t.callWS({type:"entity/source",entity_id:n})},a=function(t,n){return n?o(t,n):u("_entitySources",3e4,o,(function(t){return Object.keys(t.states).length}),t)}},26765:function(t,n,e){e.d(n,{D9:function(){return c},Ys:function(){return o},g7:function(){return a}});var r=e(47181),i=function(){return Promise.all([e.e(3298),e.e(45497),e.e(28597),e.e(52154),e.e(72116),e.e(1281)]).then(e.bind(e,1281))},u=function(t,n,e){return new Promise((function(u){var o=n.cancel,a=n.confirm;(0,r.B)(t,"show-dialog",{dialogTag:"dialog-box",dialogImport:i,dialogParams:Object.assign(Object.assign(Object.assign({},n),e),{},{cancel:function(){u(!(null==e||!e.prompt)&&null),o&&o()},confirm:function(t){u(null==e||!e.prompt||t),a&&a(t)}})})}))},o=function(t,n){return u(t,n)},a=function(t,n){return u(t,n,{confirmation:!0})},c=function(t,n){return u(t,n,{prompt:!0})}}}]);
//# sourceMappingURL=91185-H1jxeodWtXM.js.map