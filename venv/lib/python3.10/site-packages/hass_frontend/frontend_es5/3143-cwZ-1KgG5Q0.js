"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[3143],{39197:function(t,e,r){r.d(e,{v:function(){return i}});var n=r(56007),a=r(58831);function i(t,e){var r=(0,a.M)(t.entity_id),i=void 0!==e?e:null==t?void 0:t.state;if(["button","input_button","scene"].includes(r))return i!==n.nZ;if((0,n.rk)(i))return!1;if(i===n.PX&&"alert"!==r)return!1;switch(r){case"alarm_control_panel":return"disarmed"!==i;case"alert":return"idle"!==i;case"cover":return"closed"!==i;case"device_tracker":case"person":return"not_home"!==i;case"lock":return"locked"!==i;case"media_player":return"standby"!==i;case"vacuum":return!["idle","docked","paused"].includes(i);case"plant":return"problem"===i;case"group":return["on","home","open","locked","problem"].includes(i);case"timer":return"active"===i;case"camera":return"streaming"===i}return!0}},6229:function(t,e,r){r.d(e,{I2:function(){return h},Hh:function(){return l},tD:function(){return f}});var n=r(56007),a=r(73059),i=r(22134),o=r(83447),c=r(58831),s=r(39197),u=new Set(["alarm_control_panel","alert","automation","binary_sensor","calendar","camera","climate","cover","device_tracker","fan","group","humidifier","input_boolean","light","lock","media_player","person","plant","remote","schedule","script","siren","sun","switch","timer","update","vacuum"]),l=function(t,e){if((void 0!==e?e:null==t?void 0:t.state)===n.nZ)return"var(--state-unavailable-color)";var r=f(t,e);return r?(0,i.I)(r):void 0},d=function(t,e,r){var n=void 0!==r?r:e.state,a=(0,s.v)(e,r),i=[],c=(0,o.l)(n,"_"),u=a?"active":"inactive",l=e.attributes.device_class;return l&&i.push("--state-".concat(t,"-").concat(l,"-").concat(c,"-color")),i.push("--state-".concat(t,"-").concat(c,"-color"),"--state-".concat(t,"-").concat(u,"-color"),"--state-".concat(u,"-color")),i},f=function(t,e){var r=void 0!==e?e:null==t?void 0:t.state,n=(0,c.M)(t.entity_id),i=t.attributes.device_class;if("sensor"===n&&"battery"===i){var o=function(t){var e=Number(t);if(!isNaN(e))return e>=70?"--state-sensor-battery-high-color":e>=30?"--state-sensor-battery-medium-color":"--state-sensor-battery-low-color"}(r);if(o)return[o]}if("group"===n){var s=(0,a.W)(t);if(s&&u.has(s))return d(s,t,e)}if(u.has(n))return d(n,t,e)},h=function(t){if(t.attributes.brightness&&"plant"!==(0,c.M)(t.entity_id)){var e=t.attributes.brightness;return"brightness(".concat((e+245)/5,"%)")}return""}},83447:function(t,e,r){r.d(e,{l:function(){return n}});var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",r="àáäâãåăæąçćčđďèéěėëêęğǵḧìíïîįłḿǹńňñòóöôœøṕŕřßşśšșťțùúüûǘůűūųẃẍÿýźžż·/_,:;",n="aaaaaaaaacccddeeeeeeegghiiiiilmnnnnooooooprrsssssttuuuuuuuuuwxyyzzz".concat(e).concat(e).concat(e).concat(e).concat(e).concat(e),a=new RegExp(r.split("").join("|"),"g");return t.toString().toLowerCase().replace(/\s+/g,e).replace(a,(function(t){return n.charAt(r.indexOf(t))})).replace(/&/g,"".concat(e,"and").concat(e)).replace(/[^\w-]+/g,"").replace(/-/g,e).replace(new RegExp("(".concat(e,")\\1+"),"g"),"$1").replace(new RegExp("^".concat(e,"+")),"").replace(new RegExp("".concat(e,"+$")),"")}},52797:function(t,e,r){r.d(e,{N:function(){return i}});var n,a=r(88962),i=(0,r(68144).iv)(n||(n=(0,a.Z)(["ha-state-icon[data-domain=alarm_control_panel][data-state=arming],ha-state-icon[data-domain=alarm_control_panel][data-state=pending],ha-state-icon[data-domain=alarm_control_panel][data-state=triggered],ha-state-icon[data-domain=lock][data-state=jammed]{animation:pulse 1s infinite}@keyframes pulse{0%{opacity:1}50%{opacity:0}100%{opacity:1}}ha-state-icon[data-state=unavailable]{color:var(--state-unavailable-color)}"])))},43426:function(t,e,r){if(r.d(e,{U:function(){return o}}),98818!=r.j)var n=r(99312);if(98818!=r.j)var a=r(81043);var i,o=98818!=r.j?(i=(0,a.Z)((0,n.Z)().mark((function t(e,r,a,i,o){var c,s,u,l,d,f,h=arguments;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(c=h.length,s=new Array(c>5?c-5:0),u=5;u<c;u++)s[u-5]=h[u];if((l=i[e])||(l=i[e]={}),!(d=l[o])){t.next=6;break}return t.abrupt("return",d);case 6:return f=a.apply(void 0,[i,o].concat(s)),l[o]=f,f.then((function(){return setTimeout((function(){l[o]=void 0}),r)}),(function(){l[o]=void 0})),t.abrupt("return",f);case 10:case"end":return t.stop()}}),t)}))),function(t,e,r,n,a){return i.apply(this,arguments)}):null},3143:function(t,e,r){var n,a,i,o=r(76775),c=r(88962),s=r(33368),u=r(71650),l=r(82390),d=r(69205),f=r(70906),h=r(91808),v=r(34541),p=r(47838),b=r(68144),_=r(79932),y=r(30153),m=r(47501),g=r(58831),k=r(22311),w=r(6229),E=r(52797),Z=r(89439),I=r(74674),T=(r(87037),(0,h.Z)(null,(function(t,e){var r=function(e){(0,d.Z)(n,e);var r=(0,f.Z)(n);function n(){var e;(0,u.Z)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=r.call.apply(r,[this].concat(i)),t((0,l.Z)(e)),e}return(0,s.Z)(n)}(e);return{F:r,d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,_.Cb)()],key:"stateObj",value:void 0},{kind:"field",decorators:[(0,_.Cb)()],key:"overrideIcon",value:void 0},{kind:"field",decorators:[(0,_.Cb)()],key:"overrideImage",value:void 0},{kind:"field",decorators:[(0,_.Cb)({type:Boolean})],key:"stateColor",value:void 0},{kind:"field",decorators:[(0,_.Cb)()],key:"color",value:void 0},{kind:"field",decorators:[(0,_.Cb)({type:Boolean,reflect:!0,attribute:"icon"})],key:"_showIcon",value:function(){return!0}},{kind:"field",decorators:[(0,_.SB)()],key:"_iconStyle",value:function(){return{}}},{kind:"method",key:"connectedCallback",value:function(){var t,e;(0,v.Z)((0,p.Z)(r.prototype),"connectedCallback",this).call(this),this.hasUpdated&&void 0===this.overrideImage&&(null!==(t=this.stateObj)&&void 0!==t&&t.attributes.entity_picture||null!==(e=this.stateObj)&&void 0!==e&&e.attributes.entity_picture_local)&&this.requestUpdate("stateObj")}},{kind:"method",key:"disconnectedCallback",value:function(){var t,e;(0,v.Z)((0,p.Z)(r.prototype),"disconnectedCallback",this).call(this),void 0===this.overrideImage&&(null!==(t=this.stateObj)&&void 0!==t&&t.attributes.entity_picture||null!==(e=this.stateObj)&&void 0!==e&&e.attributes.entity_picture_local)&&(this.style.backgroundImage="")}},{kind:"get",key:"_stateColor",value:function(){var t=this.stateObj?(0,k.N)(this.stateObj):void 0;return this.stateColor||"light"===t&&!1!==this.stateColor}},{kind:"method",key:"render",value:function(){var t=this.stateObj;if(!t&&!this.overrideIcon&&!this.overrideImage)return(0,b.dy)(n||(n=(0,c.Z)(['<div class="missing"> <ha-svg-icon .path="','"></ha-svg-icon> </div>'])),"M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z");if(!this._showIcon)return b.Ld;var e=t?(0,k.N)(t):void 0;return(0,b.dy)(a||(a=(0,c.Z)(['<ha-state-icon style="','" data-domain="','" data-state="','" .icon="','" .state="','"></ha-state-icon>'])),(0,m.V)(this._iconStyle),(0,y.o)(e),(0,y.o)(null==t?void 0:t.state),this.overrideIcon,t)}},{kind:"method",key:"willUpdate",value:function(t){if((0,v.Z)((0,p.Z)(r.prototype),"willUpdate",this).call(this,t),t.has("stateObj")||t.has("overrideImage")||t.has("overrideIcon")||t.has("stateColor")||t.has("color")){var e=this.stateObj,n={},a={backgroundImage:""};if(this._showIcon=!0,e&&void 0===this.overrideImage)if(!e.attributes.entity_picture_local&&!e.attributes.entity_picture||this.overrideIcon){if(this.color)n.color=this.color;else if(this._stateColor){var i=(0,w.Hh)(e);if(i&&(n.color=i),e.attributes.rgb_color&&(n.color="rgb(".concat(e.attributes.rgb_color.join(","),")")),e.attributes.brightness){var c=e.attributes.brightness;if("number"!=typeof c){var s="Type error: state-badge expected number, but type of ".concat(e.entity_id,".attributes.brightness is ").concat((0,o.Z)(c)," (").concat(c,")");console.warn(s)}n.filter=(0,w.I2)(e)}if(e.attributes.hvac_action){var u=e.attributes.hvac_action;u in I.cH?n.color=(0,w.Hh)(e,I.cH[u]):delete n.color}}}else{var l=e.attributes.entity_picture_local||e.attributes.entity_picture;this.hass&&(l=this.hass.hassUrl(l)),"camera"===(0,g.M)(e.entity_id)&&(l=(0,Z.Ch)(l,80,80)),a.backgroundImage="url(".concat(l,")"),this._showIcon=!1}else if(this.overrideImage){var d=this.overrideImage;this.hass&&(d=this.hass.hassUrl(d)),a.backgroundImage="url(".concat(d,")"),this._showIcon=!1}this._iconStyle=n,Object.assign(this.style,a)}}},{kind:"get",static:!0,key:"styles",value:function(){return[E.N,(0,b.iv)(i||(i=(0,c.Z)([":host{position:relative;display:inline-block;width:40px;color:var(--paper-item-icon-color,#44739e);border-radius:50%;height:40px;text-align:center;background-size:cover;line-height:40px;vertical-align:middle;box-sizing:border-box;--state-inactive-color:initial}:host(:focus){outline:0}:host(:not([icon]):focus){border:2px solid var(--divider-color)}:host([icon]:focus){background:var(--divider-color)}ha-state-icon{transition:color .3s ease-in-out,filter .3s ease-in-out}.missing{color:#fce588}"])))]}}]}}),b.oi));customElements.define("state-badge",T)},89439:function(t,e,r){if(r.d(e,{B:function(){return E},Ch:function(){return v},Lr:function(){return y},Mw:function(){return k},Xn:function(){return g},i4:function(){return b},jU:function(){return h},kU:function(){return f},nk:function(){return p},qW:function(){return d},sF:function(){return l},tb:function(){return m},zj:function(){return Z}}),98818!=r.j)var n=r(99312);if(98818!=r.j)var a=r(81043);if(98818!=r.j)var i=r(43426);var o,c,s,u=r(22814),l=98818!=r.j?[1,2,3,4,6,8]:null,d=2,f="hls",h="web_rtc",v=function(t,e,r){return"".concat(t,"&width=").concat(e,"&height=").concat(r)},p=function(t){return"/api/camera_proxy_stream/".concat(t.entity_id,"?token=").concat(t.attributes.access_token)},b=98818!=r.j?(o=(0,a.Z)((0,n.Z)().mark((function t(e,r,a,o){var c;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.U)("_cameraTmbUrl",9e3,_,e,r);case 2:return c=t.sent,t.abrupt("return",v(c,a,o));case 4:case"end":return t.stop()}}),t)}))),function(t,e,r,n){return o.apply(this,arguments)}):null,_=98818!=r.j?(c=(0,a.Z)((0,n.Z)().mark((function t(e,r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.iI)(e,"/api/camera_proxy/".concat(r));case 2:return a=t.sent,t.abrupt("return",e.hassUrl(a.path));case 4:case"end":return t.stop()}}),t)}))),function(t,e){return c.apply(this,arguments)}):null,y=98818!=r.j?(s=(0,a.Z)((0,n.Z)().mark((function t(e,r,a){var i,o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={type:"camera/stream",entity_id:r},a&&(i.format=a),t.next=4,e.callWS(i);case 4:return(o=t.sent).url=e.hassUrl(o.url),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)}))),function(t,e,r){return s.apply(this,arguments)}):null,m=function(t,e,r){return t.callWS({type:"camera/web_rtc_offer",entity_id:e,offer:r})},g=function(t,e){return t.callWS({type:"camera/get_prefs",entity_id:e})},k=function(t,e,r){return t.callWS(Object.assign({type:"camera/update_prefs",entity_id:e},r))},w="media-source://camera/",E=function(t){return t.startsWith(w)},Z=function(t){return t.substring(22)}},74674:function(t,e,r){r.d(e,{T1:function(){return n},ZS:function(){return o},cH:function(){return c},pi:function(){return a}});var n="none",a=function(t){return t[t.TARGET_TEMPERATURE=1]="TARGET_TEMPERATURE",t[t.TARGET_TEMPERATURE_RANGE=2]="TARGET_TEMPERATURE_RANGE",t[t.TARGET_HUMIDITY=4]="TARGET_HUMIDITY",t[t.FAN_MODE=8]="FAN_MODE",t[t.PRESET_MODE=16]="PRESET_MODE",t[t.SWING_MODE=32]="SWING_MODE",t[t.AUX_HEAT=64]="AUX_HEAT",t}({}),i={auto:1,heat_cool:2,heat:3,cool:4,dry:5,fan_only:6,off:7},o=function(t,e){return i[t]-i[e]},c={cooling:"cool",drying:"dry",fan:"fan_only",preheating:"heat",heating:"heat",idle:"off",off:"off"}},73059:function(t,e,r){r.d(e,{W:function(){return i}});var n=r(53709),a=r(58831),i=function(t){var e=t.attributes.entity_id||[],r=(0,n.Z)(new Set(e.map((function(t){return(0,a.M)(t)}))));return 1===r.length?r[0]:void 0}},22134:function(t,e,r){if(r.d(e,{I:function(){return a},g:function(){return i}}),98818!=r.j)var n=r(40039);function a(t){return Array.isArray(t)?t.reverse().reduce((function(t,e){return"var(".concat(e).concat(t?", ".concat(t):"",")")}),void 0):"var(".concat(t,")")}function i(t,e){if(Array.isArray(t)){var r,a=(0,n.Z)(t);try{for(a.s();!(r=a.n()).done;){var o=i(r.value,e);if(o)return o}}catch(c){a.e(c)}finally{a.f()}}else if(t.endsWith("-color"))return e.getPropertyValue(t).trim()||void 0}}}]);
//# sourceMappingURL=3143-cwZ-1KgG5Q0.js.map