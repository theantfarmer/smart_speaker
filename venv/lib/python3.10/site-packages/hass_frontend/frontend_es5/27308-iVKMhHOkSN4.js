"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[27308],{91168:function(e,t,n){n.d(t,{Z:function(){return r}});var i=function(e){return e<10?"0".concat(e):e};function r(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return t>0?"".concat(t,":").concat(i(n),":").concat(i(r)):n>0?"".concat(n,":").concat(i(r)):r>0?""+r:null}},72015:function(e,t,n){n.d(t,{$:function(){return o},P:function(){return c}});var i=n(53709),r=n(22311),a=n(56007),o={alarm_control_panel:["armed_away","armed_custom_bypass","armed_home","armed_night","armed_vacation","arming","disarmed","disarming","pending","triggered"],automation:["on","off"],binary_sensor:["on","off"],button:[],calendar:["on","off"],camera:["idle","recording","streaming"],cover:["closed","closing","open","opening"],device_tracker:["home","not_home"],fan:["on","off"],humidifier:["on","off"],input_boolean:["on","off"],input_button:[],light:["on","off"],lock:["jammed","locked","locking","unlocked","unlocking"],media_player:["idle","off","paused","playing","standby"],person:["home","not_home"],plant:["ok","problem"],remote:["on","off"],scene:[],schedule:["on","off"],script:["on","off"],siren:["on","off"],sun:["above_horizon","below_horizon"],switch:["on","off"],timer:["active","idle","paused"],update:["on","off"],vacuum:["cleaning","docked","error","idle","paused","returning"],weather:["clear-night","cloudy","exceptional","fog","hail","lightning-rainy","lightning","partlycloudy","pouring","rainy","snowy-rainy","snowy","sunny","windy-variant","windy"]},s={alarm_control_panel:{code_format:["number","text"]},binary_sensor:{device_class:["battery","battery_charging","co","cold","connectivity","door","garage_door","gas","heat","light","lock","moisture","motion","moving","occupancy","opening","plug","power","presence","problem","running","safety","smoke","sound","tamper","update","vibration","window"]},button:{device_class:["restart","update"]},camera:{frontend_stream_type:["hls","web_rtc"]},climate:{hvac_action:["off","idle","preheating","heating","cooling","drying","fan"]},cover:{device_class:["awning","blind","curtain","damper","door","garage","gate","shade","shutter","window"]},device_tracker:{source_type:["bluetooth","bluetooth_le","gps","router"]},fan:{direction:["forward","reverse"]},humidifier:{device_class:["humidifier","dehumidifier"],action:["off","idle","humidifying","drying"]},media_player:{device_class:["tv","speaker","receiver"],media_content_type:["album","app","artist","channel","channels","composer","contibuting_artist","episode","game","genre","image","movie","music","playlist","podcast","season","track","tvshow","url","video"],repeat:["off","one","all"]},number:{device_class:["temperature"]},sensor:{device_class:["apparent_power","aqi","battery","carbon_dioxide","carbon_monoxide","current","date","duration","energy","frequency","gas","humidity","illuminance","monetary","nitrogen_dioxide","nitrogen_monoxide","nitrous_oxide","ozone","pm1","pm10","pm25","power_factor","power","pressure","reactive_power","signal_strength","sulphur_dioxide","temperature","timestamp","volatile_organic_compounds","volatile_organic_compounds_parts","voltage"],state_class:["measurement","total","total_increasing"]},switch:{device_class:["outlet","switch"]},update:{device_class:["firmware"]},water_heater:{away_mode:["on","off"]}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=(0,r.N)(e),c=[];switch(!t&&n in o?c.push.apply(c,(0,i.Z)(o[n])):t&&n in s&&t in s[n]&&c.push.apply(c,(0,i.Z)(s[n][t])),n){case"climate":t?"fan_mode"===t?c.push.apply(c,(0,i.Z)(e.attributes.fan_modes)):"preset_mode"===t?c.push.apply(c,(0,i.Z)(e.attributes.preset_modes)):"swing_mode"===t&&c.push.apply(c,(0,i.Z)(e.attributes.swing_modes)):c.push.apply(c,(0,i.Z)(e.attributes.hvac_modes));break;case"device_tracker":case"person":t||c.push("home","not_home");break;case"fan":"preset_mode"===t&&c.push.apply(c,(0,i.Z)(e.attributes.preset_modes));break;case"humidifier":"mode"===t&&c.push.apply(c,(0,i.Z)(e.attributes.available_modes));break;case"input_select":case"select":t||c.push.apply(c,(0,i.Z)(e.attributes.options));break;case"light":"effect"===t&&e.attributes.effect_list?c.push.apply(c,(0,i.Z)(e.attributes.effect_list)):"color_mode"===t&&e.attributes.supported_color_modes&&c.push.apply(c,(0,i.Z)(e.attributes.supported_color_modes));break;case"media_player":"sound_mode"===t?c.push.apply(c,(0,i.Z)(e.attributes.sound_mode_list)):"source"===t&&c.push.apply(c,(0,i.Z)(e.attributes.source_list));break;case"remote":"current_activity"===t&&c.push.apply(c,(0,i.Z)(e.attributes.activity_list));break;case"sensor":t||"enum"!==e.attributes.device_class||c.push.apply(c,(0,i.Z)(e.attributes.options));break;case"vacuum":"fan_speed"===t&&c.push.apply(c,(0,i.Z)(e.attributes.fan_speed_list));break;case"water_heater":t&&"operation_mode"!==t||c.push.apply(c,(0,i.Z)(e.attributes.operation_list))}return t||c.push.apply(c,(0,i.Z)(a.V_)),(0,i.Z)(new Set(c))}},6315:function(e,t,n){var i,r,a,o,s,c=n(93359),u=n(88962),l=n(33368),d=n(71650),h=n(82390),f=n(69205),v=n(70906),m=n(91808),p=n(34541),b=n(47838),g=n(68144),y=n(79932),k=n(83448),_=n(57966),w=n(91168),Z=n(41826),x=n(22311),C=n(91741),E=n(72015),O=n(18457),P=n(56007),j=n(40958),M=(n(91937),n(87037),["alarm_control_panel","device_tracker","person"]);(0,m.Z)([(0,y.Mo)("ha-state-label-badge")],(function(e,t){var n=function(t){(0,f.Z)(i,t);var n=(0,v.Z)(i);function i(){var t;(0,d.Z)(this,i);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=n.call.apply(n,[this].concat(a)),e((0,h.Z)(t)),t}return(0,l.Z)(i)}(t);return{F:n,d:[{kind:"field",decorators:[(0,y.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,y.Cb)({attribute:!1})],key:"state",value:void 0},{kind:"field",decorators:[(0,y.Cb)()],key:"name",value:void 0},{kind:"field",decorators:[(0,y.Cb)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,y.Cb)()],key:"image",value:void 0},{kind:"field",decorators:[(0,y.SB)()],key:"_timerTimeRemaining",value:void 0},{kind:"field",key:"_connected",value:void 0},{kind:"field",key:"_updateRemaining",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,p.Z)((0,b.Z)(n.prototype),"connectedCallback",this).call(this),this._connected=!0,this.startInterval(this.state)}},{kind:"method",key:"disconnectedCallback",value:function(){(0,p.Z)((0,b.Z)(n.prototype),"disconnectedCallback",this).call(this),this._connected=!1,this.clearInterval()}},{kind:"method",key:"render",value:function(){var e,t,n,s=this.state;if(!s)return(0,g.dy)(i||(i=(0,u.Z)([' <ha-label-badge class="warning" label="','" description="','"> <ha-svg-icon .path="','"></ha-svg-icon> </ha-label-badge> '])),this.hass.localize("state_badge.default.error"),this.hass.localize("state_badge.default.entity_not_found"),"M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z");var l=(0,x.N)(s),d=null===(e=this.hass)||void 0===e?void 0:e.entities[s.entity_id],h=this.icon||this._computeShowIcon(l,s,d),f=this.icon?"":this.image?this.image:s.attributes.entity_picture_local||s.attributes.entity_picture,v=f||h?void 0:this._computeValue(l,s,d);return(0,g.dy)(r||(r=(0,u.Z)([' <ha-label-badge class="','" .image="','" .label="','" .description="','"> '," "," </ha-label-badge> "])),(0,k.$)((t={},(0,c.Z)(t,l,!0),(0,c.Z)(t,"has-unit_of_measurement","unit_of_measurement"in s.attributes),t)),f,this._computeLabel(l,s,this._timerTimeRemaining),null!==(n=this.name)&&void 0!==n?n:(0,C.C)(s),!f&&h?(0,g.dy)(a||(a=(0,u.Z)(['<ha-state-icon .icon="','" .state="','"></ha-state-icon>'])),this.icon,s):"",!v||f||h?"":(0,g.dy)(o||(o=(0,u.Z)(['<span class="','">',"</span>"])),v&&v.length>4?"big":"",v))}},{kind:"method",key:"updated",value:function(e){(0,p.Z)((0,b.Z)(n.prototype),"updated",this).call(this,e),this._connected&&e.has("state")&&this.startInterval(this.state)}},{kind:"method",key:"_computeValue",value:function(e,t,n){switch(e){case"alarm_control_panel":case"binary_sensor":case"device_tracker":case"person":case"scene":case"sun":case"timer":case"updater":return null;case"sensor":if("moon"===(null==n?void 0:n.platform))return null;default:return t.state===P.lz||t.state===P.nZ?"â€”":(0,O.SL)(t)?(0,O.uf)(t.state,this.hass.locale,(0,O.l4)(t,n)):(0,Z.D1)(this.hass.localize,t,this.hass.locale,this.hass.config,this.hass.entities)}}},{kind:"method",key:"_computeShowIcon",value:function(e,t,n){if(t.state===P.nZ)return!1;switch(e){case"alarm_control_panel":case"binary_sensor":case"device_tracker":case"updater":case"person":case"scene":case"sun":case"timer":return!0;case"sensor":return"moon"===(null==n?void 0:n.platform);default:return!1}}},{kind:"method",key:"_computeLabel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((0,P.rk)(t.state))return this.hass.localize("state_badge.default.".concat(t.state));var i,r,a=(i=e,r=t.state,(0,_.z)(M)(i)&&(0,_.z)(E.$[i])(r)?"".concat(i,".").concat(r):null);return a?this.hass.localize("state_badge.".concat(a)):"person"===e||"device_tracker"===e?t.state:"timer"===e?(0,w.Z)(n):t.attributes.unit_of_measurement||null}},{kind:"method",key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this._updateRemaining&&(clearInterval(this._updateRemaining),this._updateRemaining=void 0)}))},{kind:"method",key:"startInterval",value:function(e){var t=this;this.clearInterval(),e&&"timer"===(0,x.N)(e)&&(this.calculateTimerRemaining(e),"active"===e.state&&(this._updateRemaining=window.setInterval((function(){return t.calculateTimerRemaining(t.state)}),1e3)))}},{kind:"method",key:"calculateTimerRemaining",value:function(e){this._timerTimeRemaining=(0,j.mK)(e)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,g.iv)(s||(s=(0,u.Z)([":host{cursor:pointer}.big{font-size:70%}ha-label-badge{--ha-label-badge-color:var(--label-badge-red)}ha-label-badge.has-unit_of_measurement{--ha-label-badge-label-text-transform:none}ha-label-badge.binary_sensor,ha-label-badge.updater{--ha-label-badge-color:var(--label-badge-blue)}.red{--ha-label-badge-color:var(--label-badge-red)}.blue{--ha-label-badge-color:var(--label-badge-blue)}.green{--ha-label-badge-color:var(--label-badge-green)}.yellow{--ha-label-badge-color:var(--label-badge-yellow)}.grey{--ha-label-badge-color:var(--label-badge-grey)}.warning{--ha-label-badge-color:var(--label-badge-yellow)}"])))}}]}}),g.oi)},10983:function(e,t,n){n.d(t,{$:function(){return b}});var i,r,a,o,s=n(88962),c=n(33368),u=n(71650),l=n(82390),d=n(69205),h=n(70906),f=n(91808),v=(n(20210),n(68144)),m=n(79932),p=n(30153),b=(n(52039),(0,f.Z)([(0,m.Mo)("ha-icon-button")],(function(e,t){var n=function(t){(0,d.Z)(i,t);var n=(0,h.Z)(i);function i(){var t;(0,u.Z)(this,i);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=n.call.apply(n,[this].concat(a)),e((0,l.Z)(t)),t}return(0,c.Z)(i)}(t);return{F:n,d:[{kind:"field",decorators:[(0,m.Cb)({type:Boolean,reflect:!0})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,m.Cb)({type:String})],key:"path",value:void 0},{kind:"field",decorators:[(0,m.Cb)({type:String})],key:"label",value:void 0},{kind:"field",decorators:[(0,m.Cb)({type:String,attribute:"aria-haspopup"})],key:"ariaHasPopup",value:void 0},{kind:"field",decorators:[(0,m.Cb)({type:Boolean})],key:"hideTitle",value:function(){return!1}},{kind:"field",decorators:[(0,m.IO)("mwc-icon-button",!0)],key:"_button",value:void 0},{kind:"method",key:"focus",value:function(){var e;null===(e=this._button)||void 0===e||e.focus()}},{kind:"field",static:!0,key:"shadowRootOptions",value:function(){return{mode:"open",delegatesFocus:!0}}},{kind:"method",key:"render",value:function(){return(0,v.dy)(i||(i=(0,s.Z)([' <mwc-icon-button aria-label="','" title="','" aria-haspopup="','" .disabled="','"> '," </mwc-icon-button> "])),(0,p.o)(this.label),(0,p.o)(this.hideTitle?void 0:this.label),(0,p.o)(this.ariaHasPopup),this.disabled,this.path?(0,v.dy)(r||(r=(0,s.Z)(['<ha-svg-icon .path="','"></ha-svg-icon>'])),this.path):(0,v.dy)(a||(a=(0,s.Z)(["<slot></slot>"]))))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,v.iv)(o||(o=(0,s.Z)([":host{display:inline-block;outline:0}:host([disabled]){pointer-events:none}mwc-icon-button{--mdc-theme-on-primary:currentColor;--mdc-theme-text-disabled-on-light:var(--disabled-text-color)}"])))}}]}}),v.oi))},91937:function(e,t,n){var i,r,a,o,s=n(88962),c=n(33368),u=n(71650),l=n(82390),d=n(69205),h=n(70906),f=n(91808),v=n(34541),m=n(47838),p=n(68144),b=n(79932),g=n(83448);(0,f.Z)([(0,b.Mo)("ha-label-badge")],(function(e,t){var n=function(t){(0,d.Z)(i,t);var n=(0,h.Z)(i);function i(){var t;(0,u.Z)(this,i);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=n.call.apply(n,[this].concat(a)),e((0,l.Z)(t)),t}return(0,c.Z)(i)}(t);return{F:n,d:[{kind:"field",decorators:[(0,b.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,b.Cb)()],key:"description",value:void 0},{kind:"field",decorators:[(0,b.Cb)()],key:"image",value:void 0},{kind:"method",key:"render",value:function(){return(0,p.dy)(i||(i=(0,s.Z)([' <div class="badge-container"> <div class="label-badge" id="badge"> <div class="value"> <slot></slot> </div> '," </div> "," </div> "])),this.label?(0,p.dy)(r||(r=(0,s.Z)([' <div class="','"> <span>',"</span> </div> "])),(0,g.$)({label:!0,big:this.label.length>5}),this.label):"",this.description?(0,p.dy)(a||(a=(0,s.Z)(['<div class="title">',"</div>"])),this.description):"")}},{kind:"get",static:!0,key:"styles",value:function(){return[(0,p.iv)(o||(o=(0,s.Z)([".badge-container{display:inline-block;text-align:center;vertical-align:top;padding:var(--ha-label-badge-padding,0 0 0 0)}.label-badge{position:relative;display:block;margin:0 auto;width:var(--ha-label-badge-size,2.5em);text-align:center;height:var(--ha-label-badge-size,2.5em);line-height:var(--ha-label-badge-size,2.5em);font-size:var(--ha-label-badge-font-size,1.5em);border-radius:var(--ha-label-badge-border-radius,50%);border:.1em solid var(--ha-label-badge-color,var(--primary-color));color:var(--label-badge-text-color,#4c4c4c);white-space:nowrap;background-color:var(--label-badge-background-color,#fff);background-size:cover;transition:border .3s ease-in-out}.label-badge .label.big span{font-size:90%;padding:10% 12% 7% 12%}.label-badge .value{font-size:90%;overflow:hidden;text-overflow:ellipsis}.label-badge .label{position:absolute;bottom:-1em;left:-.2em;right:-.2em;line-height:1em;font-size:.5em}.label-badge .label span{box-sizing:border-box;max-width:100%;display:inline-block;background-color:var(--ha-label-badge-color,var(--primary-color));color:var(--ha-label-badge-label-color,#fff);border-radius:1em;padding:9% 16% 8% 16%;font-weight:500;overflow:hidden;text-transform:uppercase;text-overflow:ellipsis;transition:background-color .3s ease-in-out;text-transform:var(--ha-label-badge-label-text-transform,uppercase)}.badge-container .title{margin-top:1em;font-size:var(--ha-label-badge-title-font-size,.9em);width:var(--ha-label-badge-title-width,5em);font-weight:var(--ha-label-badge-title-font-weight,400);overflow:hidden;text-overflow:ellipsis;line-height:normal}"])))]}},{kind:"method",key:"updated",value:function(e){(0,v.Z)((0,m.Z)(n.prototype),"updated",this).call(this,e),e.has("image")&&(this.shadowRoot.getElementById("badge").style.backgroundImage=this.image?"url(".concat(this.image,")"):"")}}]}}),p.oi)},48932:function(e,t,n){var i,r,a,o=n(88962),s=n(33368),c=n(71650),u=n(82390),l=n(69205),d=n(70906),h=n(91808),f=n(34541),v=n(47838),m=n(68144),p=n(79932),b=n(47181),g=n(6936);n(10983),(0,h.Z)([(0,p.Mo)("ha-menu-button")],(function(e,t){var n=function(t){(0,l.Z)(i,t);var n=(0,d.Z)(i);function i(){var t;(0,c.Z)(this,i);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=n.call.apply(n,[this].concat(a)),e((0,u.Z)(t)),t}return(0,s.Z)(i)}(t);return{F:n,d:[{kind:"field",decorators:[(0,p.Cb)({type:Boolean})],key:"hassio",value:function(){return!1}},{kind:"field",decorators:[(0,p.Cb)()],key:"narrow",value:void 0},{kind:"field",decorators:[(0,p.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,p.SB)()],key:"_hasNotifications",value:function(){return!1}},{kind:"field",decorators:[(0,p.SB)()],key:"_show",value:function(){return!1}},{kind:"field",key:"_alwaysVisible",value:function(){return!1}},{kind:"field",key:"_attachNotifOnConnect",value:function(){return!1}},{kind:"field",key:"_unsubNotifications",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,f.Z)((0,v.Z)(n.prototype),"connectedCallback",this).call(this),this._attachNotifOnConnect&&(this._attachNotifOnConnect=!1,this._subscribeNotifications())}},{kind:"method",key:"disconnectedCallback",value:function(){(0,f.Z)((0,v.Z)(n.prototype),"disconnectedCallback",this).call(this),this._unsubNotifications&&(this._attachNotifOnConnect=!0,this._unsubNotifications(),this._unsubNotifications=void 0)}},{kind:"method",key:"render",value:function(){if(!this._show)return m.Ld;var e=this._hasNotifications&&(this.narrow||"always_hidden"===this.hass.dockedSidebar);return(0,m.dy)(i||(i=(0,o.Z)([' <ha-icon-button .label="','" .path="','" @click="','"></ha-icon-button> '," "])),this.hass.localize("ui.sidebar.sidebar_toggle"),"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",this._toggleMenu,e?(0,m.dy)(r||(r=(0,o.Z)(['<div class="dot"></div>']))):"")}},{kind:"method",key:"firstUpdated",value:function(e){(0,f.Z)((0,v.Z)(n.prototype),"firstUpdated",this).call(this,e),this.hassio&&(this._alwaysVisible=(Number(window.parent.frontendVersion)||0)<20190710)}},{kind:"method",key:"willUpdate",value:function(e){if((0,f.Z)((0,v.Z)(n.prototype),"willUpdate",this).call(this,e),e.has("narrow")||e.has("hass")){var t=e.has("hass")?e.get("hass"):this.hass,i=(e.has("narrow")?e.get("narrow"):this.narrow)||"always_hidden"===(null==t?void 0:t.dockedSidebar),r=this.narrow||"always_hidden"===this.hass.dockedSidebar;this.hasUpdated&&i===r||(this._show=r||this._alwaysVisible,r?this._subscribeNotifications():this._unsubNotifications&&(this._unsubNotifications(),this._unsubNotifications=void 0))}}},{kind:"method",key:"_subscribeNotifications",value:function(){var e=this;if(this._unsubNotifications)throw new Error("Already subscribed");this._unsubNotifications=(0,g.r)(this.hass.connection,(function(t){e._hasNotifications=t.length>0}))}},{kind:"method",key:"_toggleMenu",value:function(){(0,b.B)(this,"hass-toggle-menu")}},{kind:"get",static:!0,key:"styles",value:function(){return(0,m.iv)(a||(a=(0,o.Z)([":host{position:relative}.dot{pointer-events:none;position:absolute;background-color:var(--accent-color);width:12px;height:12px;top:9px;right:7px;border-radius:50%;border:2px solid var(--app-header-background-color)}"])))}}]}}),m.oi)},52039:function(e,t,n){n.d(t,{C:function(){return m}});var i,r,a,o=n(88962),s=n(33368),c=n(71650),u=n(82390),l=n(69205),d=n(70906),h=n(91808),f=n(68144),v=n(79932),m=(0,h.Z)([(0,v.Mo)("ha-svg-icon")],(function(e,t){var n=function(t){(0,l.Z)(i,t);var n=(0,d.Z)(i);function i(){var t;(0,c.Z)(this,i);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=n.call.apply(n,[this].concat(a)),e((0,u.Z)(t)),t}return(0,s.Z)(i)}(t);return{F:n,d:[{kind:"field",decorators:[(0,v.Cb)()],key:"path",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"viewBox",value:void 0},{kind:"method",key:"render",value:function(){return(0,f.YP)(i||(i=(0,o.Z)([' <svg viewBox="','" preserveAspectRatio="xMidYMid meet" focusable="false" role="img" aria-hidden="true"> <g> '," </g> </svg>"])),this.viewBox||"0 0 24 24",this.path?(0,f.YP)(r||(r=(0,o.Z)(['<path d="','"></path>'])),this.path):"")}},{kind:"get",static:!0,key:"styles",value:function(){return(0,f.iv)(a||(a=(0,o.Z)([":host{display:var(--ha-icon-display,inline-flex);align-items:center;justify-content:center;position:relative;vertical-align:middle;fill:currentcolor;width:var(--mdc-icon-size,24px);height:var(--mdc-icon-size,24px)}svg{width:100%;height:100%;pointer-events:none;display:block}"])))}}]}}),f.oi)},22814:function(e,t,n){n.d(t,{TZ:function(){return c},W2:function(){return s},iI:function(){return o},oT:function(){return a}});var i=n(99312),r=n(81043),a=("".concat(location.protocol,"//").concat(location.host),function(e){return e.map((function(e){if("string"!==e.type)return e;switch(e.name){case"username":return Object.assign(Object.assign({},e),{},{autocomplete:"username"});case"password":return Object.assign(Object.assign({},e),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},e),{},{autocomplete:"one-time-code"});default:return e}}))}),o=function(e,t){return e.callWS({type:"auth/sign_path",path:t})},s=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,n,r,a){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.callWS({type:"config/auth_provider/homeassistant/create",user_id:n,username:r,password:a}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,n,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:n,password:r}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}()},9893:function(e,t,n){n.d(t,{IT:function(){return c},PN:function(){return o},Qo:function(){return i},V0:function(){return u},cs:function(){return s},kb:function(){return a}});var i="custom:",r=window;"customCards"in r||(r.customCards=[]),"customTileFeatures"in r||(r.customTileFeatures=[]);var a=r.customCards,o=r.customTileFeatures,s=function(e){return a.find((function(t){return t.type===e}))},c=function(e){return e.startsWith(i)},u=function(e){return e.slice(i.length)}},6936:function(e,t,n){n.d(t,{r:function(){return a}});var i=n(71650),r=n(33368),a=function(e,t){var n=new o,i=e.subscribeMessage((function(e){return t(n.processMessage(e))}),{type:"persistent_notification/subscribe"});return function(){i.then((function(e){return null==e?void 0:e()}))}},o=function(){function e(){(0,i.Z)(this,e),this.notifications=void 0,this.notifications={}}return(0,r.Z)(e,[{key:"processMessage",value:function(e){if("removed"===e.type)for(var t=0,n=Object.keys(e.notifications);t<n.length;t++){var i=n[t];delete this.notifications[i]}else this.notifications=Object.assign(Object.assign({},this.notifications),e.notifications);return Object.values(this.notifications)}}]),e}()},40958:function(e,t,n){n.d(t,{rv:function(){return l},eF:function(){return o},WH:function(){return c},aT:function(){return a},mK:function(){return u},mZ:function(){return s}});var i=n(91168),r=n(41826),a=function(e){return e.callWS({type:"timer/list"})},o=function(e,t){return e.callWS(Object.assign({type:"timer/create"},t))},s=function(e,t,n){return e.callWS(Object.assign({type:"timer/update",timer_id:t},n))},c=function(e,t){return e.callWS({type:"timer/delete",timer_id:t})},u=function(e){if(e.attributes.remaining){var t,n,i=(t=e.attributes.remaining,3600*(n=t.split(":").map(Number))[0]+60*n[1]+n[2]);if("active"===e.state){var r=(new Date).getTime(),a=new Date(e.last_changed).getTime();i=Math.max(i-(r-a)/1e3,0)}return i}},l=function(e,t,n){if(!t)return null;if("idle"===t.state||0===n)return(0,r.D1)(e.localize,t,e.locale,e.config,e.entities);var a=(0,i.Z)(n||0);return"paused"===t.state&&(a="".concat(a," (").concat((0,r.D1)(e.localize,t,e.locale,e.config,e.entities),")")),a}},4289:function(e,t,n){n.d(t,{Fr:function(){return m},wt:function(){return v}});var i,r,a=n(88962),o=n(33368),s=n(71650),c=n(82390),u=n(69205),l=n(70906),d=n(91808),h=n(68144),f=n(79932),v=(n(91937),n(52039),function(e){var t=document.createElement("hui-error-badge");return t.setConfig(e),t}),m=function(e){return{type:"error",error:e}};(0,d.Z)([(0,f.Mo)("hui-error-badge")],(function(e,t){var n=function(t){(0,u.Z)(i,t);var n=(0,l.Z)(i);function i(){var t;(0,s.Z)(this,i);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=n.call.apply(n,[this].concat(a)),e((0,c.Z)(t)),t}return(0,o.Z)(i)}(t);return{F:n,d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,f.SB)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){this._config=e}},{kind:"method",key:"render",value:function(){return this._config?(0,h.dy)(i||(i=(0,a.Z)([' <ha-label-badge label="Error" description="','"> <ha-svg-icon .path="','"></ha-svg-icon> </ha-label-badge> '])),this._config.error,"M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z"):h.Ld}},{kind:"get",static:!0,key:"styles",value:function(){return(0,h.iv)(r||(r=(0,a.Z)([":host{--ha-label-badge-color:var(--label-badge-red, #fce588)}"])))}}]}}),h.oi)},39431:function(e,t,n){n.d(t,{J:function(){return _}});var i,r,a=n(88962),o=n(33368),s=n(71650),c=n(82390),u=n(69205),l=n(70906),d=n(91808),h=n(68144),f=n(79932),v=n(30153),m=(n(6315),n(93491)),p=n(17616),b=n(22193),g=((0,d.Z)([(0,f.Mo)("hui-state-label-badge")],(function(e,t){var n=function(t){(0,u.Z)(i,t);var n=(0,l.Z)(i);function i(){var t;(0,s.Z)(this,i);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=n.call.apply(n,[this].concat(a)),e((0,c.Z)(t)),t}return(0,o.Z)(i)}(t);return{F:n,d:[{kind:"field",decorators:[(0,f.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.Cb)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){this._config=e}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass)return h.Ld;var e=this.hass.states[this._config.entity];return(0,h.dy)(i||(i=(0,a.Z)([' <ha-state-label-badge .hass="','" .state="','" .name="','" .icon="','" .image="','" @action="','" .actionHandler="','" tabindex="','"></ha-state-label-badge> '])),this.hass,e,this._config.name,this._config.icon,this._config.image,this._handleAction,(0,m.K)({hasHold:(0,b._)(this._config.hold_action),hasDoubleClick:(0,b._)(this._config.double_tap_action)}),(0,v.o)((0,b._)(this._config.tap_action)||this._config.entity?"0":void 0))}},{kind:"method",key:"_handleAction",value:function(e){(0,p.G)(this,this.hass,this._config,e.detail.action)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,h.iv)(r||(r=(0,a.Z)(["ha-state-label-badge:focus{outline:0;background:var(--divider-color);border-radius:4px}ha-state-label-badge{display:inline-block;padding:4px 2px 4px 2px;margin:-4px -2px -4px -2px}"])))}}]}}),h.oi),n(7778)),y=new Set(["error","state-label"]),k={"entity-filter":function(){return n.e(68045).then(n.bind(n,68045))}},_=function(e){return(0,g.Tw)("badge",e,y,k,void 0,"state-label")}},51153:function(e,t,n){n.d(t,{Do:function(){return c},Z6:function(){return s},l$:function(){return o}});n(17349),n(80251),n(17274),n(14888),n(69377),n(95035),n(6169),n(41043),n(57464),n(24617),n(82778),n(2464);var i=n(7778),r=new Set(["entity","entities","button","entity-button","glance","grid","light","sensor","thermostat","weather-forecast","tile"]),a={"alarm-panel":function(){return Promise.all([n.e(46992),n.e(31338),n.e(42977),n.e(77639)]).then(n.bind(n,77639))},area:function(){return Promise.all([n.e(97282),n.e(15896)]).then(n.bind(n,95795))},calendar:function(){return Promise.resolve().then(n.bind(n,80251))},conditional:function(){return n.e(68857).then(n.bind(n,68857))},"empty-state":function(){return n.e(67284).then(n.bind(n,67284))},"energy-compare":function(){return Promise.all([n.e(19667),n.e(55424),n.e(8630)]).then(n.bind(n,61046))},"energy-carbon-consumed-gauge":function(){return Promise.all([n.e(33829),n.e(19667),n.e(55424),n.e(43283),n.e(54044)]).then(n.bind(n,19490))},"energy-date-selection":function(){return Promise.all([n.e(19667),n.e(58052),n.e(55424),n.e(10346)]).then(n.bind(n,10346))},"energy-devices-graph":function(){return Promise.all([n.e(19667),n.e(88006),n.e(55424),n.e(54369)]).then(n.bind(n,22794))},"energy-distribution":function(){return Promise.all([n.e(19667),n.e(55424),n.e(21154)]).then(n.bind(n,9928))},"energy-gas-graph":function(){return Promise.all([n.e(19667),n.e(55424),n.e(22026)]).then(n.bind(n,41305))},"energy-water-graph":function(){return Promise.all([n.e(19667),n.e(55424),n.e(76169)]).then(n.bind(n,89127))},"energy-grid-neutrality-gauge":function(){return Promise.all([n.e(33829),n.e(19667),n.e(55424),n.e(73602)]).then(n.bind(n,32176))},"energy-solar-consumed-gauge":function(){return Promise.all([n.e(33829),n.e(19667),n.e(55424),n.e(43283),n.e(45376)]).then(n.bind(n,85930))},"energy-self-sufficiency-gauge":function(){return Promise.all([n.e(33829),n.e(19667),n.e(55424),n.e(43283),n.e(9334)]).then(n.bind(n,61724))},"energy-solar-graph":function(){return Promise.all([n.e(19667),n.e(55424),n.e(87200)]).then(n.bind(n,70310))},"energy-sources-table":function(){return Promise.all([n.e(19667),n.e(1533),n.e(55424),n.e(16938)]).then(n.bind(n,16938))},"energy-usage-graph":function(){return Promise.all([n.e(19667),n.e(55424),n.e(61233)]).then(n.bind(n,9897))},"entity-filter":function(){return n.e(33688).then(n.bind(n,33688))},error:function(){return Promise.all([n.e(77426),n.e(55796)]).then(n.bind(n,55796))},gauge:function(){return n.e(43283).then(n.bind(n,43283))},"history-graph":function(){return Promise.all([n.e(3876),n.e(88171)]).then(n.bind(n,38026))},"horizontal-stack":function(){return n.e(89173).then(n.bind(n,89173))},humidifier:function(){return n.e(68558).then(n.bind(n,68558))},iframe:function(){return n.e(95018).then(n.bind(n,95018))},logbook:function(){return Promise.all([n.e(97740),n.e(62675)]).then(n.bind(n,8436))},map:function(){return Promise.all([n.e(13786),n.e(60076)]).then(n.bind(n,60076))},markdown:function(){return n.e(51282).then(n.bind(n,51282))},"media-control":function(){return Promise.all([n.e(82692),n.e(67794),n.e(88387)]).then(n.bind(n,88387))},"picture-elements":function(){return Promise.all([n.e(97282),n.e(69028),n.e(2056)]).then(n.bind(n,83358))},"picture-entity":function(){return Promise.all([n.e(97282),n.e(11604)]).then(n.bind(n,41500))},"picture-glance":function(){return Promise.all([n.e(97282),n.e(70087)]).then(n.bind(n,66621))},picture:function(){return n.e(45338).then(n.bind(n,45338))},"plant-status":function(){return n.e(48723).then(n.bind(n,48723))},"safe-mode":function(){return Promise.all([n.e(46992),n.e(79071),n.e(63436),n.e(99608),n.e(65666),n.e(75943),n.e(47398),n.e(9371)]).then(n.bind(n,24503))},"shopping-list":function(){return Promise.all([n.e(46992),n.e(31338),n.e(42977),n.e(41985),n.e(61446)]).then(n.bind(n,61446))},starting:function(){return n.e(47873).then(n.bind(n,47873))},"statistics-graph":function(){return n.e(95396).then(n.bind(n,95396))},statistic:function(){return n.e(99897).then(n.bind(n,99897))},"vertical-stack":function(){return n.e(26136).then(n.bind(n,26136))}},o=function(e){return(0,i.Xm)("card",e,r,a,void 0,void 0)},s=function(e){return(0,i.Tw)("card",e,r,a,void 0,void 0)},c=function(e){return(0,i.ED)(e,"card",r,a)}},7778:function(e,t,n){n.d(t,{ED:function(){return m},N2:function(){return u},Pc:function(){return c},Tw:function(){return f},Xm:function(){return v}});var i=n(99312),r=n(81043),a=n(76775),o=n(47181),s=n(9893),c=function(e){var t=document.createElement("hui-error-card");return customElements.get("hui-error-card")?t.setConfig(e):(Promise.all([n.e(77426),n.e(55796)]).then(n.bind(n,55796)),customElements.whenDefined("hui-error-card").then((function(){customElements.upgrade(t),t.setConfig(e)}))),t},u=function(e,t){return{type:"error",error:e,origConfig:t}},l=function(e,t){var n=document.createElement(e);return n.setConfig(t),n},d=function(e,t){return c(u(e,t))},h=function(e){return(0,s.IT)(e)?(0,s.V0)(e):void 0},f=function(e,t,n,i,r,a){try{return v(e,t,n,i,r,a)}catch(o){return console.error(e,t.type,o),d(o.message,t)}},v=function(e,t,n,i,r,s){if(!t||"object"!==(0,a.Z)(t))throw new Error("Config is not an object");if(!(t.type||s||r&&"entity"in t))throw new Error("No card type configured");var c,u=t.type?h(t.type):void 0;if(u)return function(e,t){if(customElements.get(e))return l(e,t);var n=d("Custom element doesn't exist: ".concat(e,"."),t);if(!e.includes("-"))return n;n.style.display="None";var i=window.setTimeout((function(){n.style.display=""}),2e3);return customElements.whenDefined(e).then((function(){clearTimeout(i),(0,o.B)(n,"ll-rebuild")})),n}(u,t);if(r&&!t.type&&t.entity){var f=t.entity.split(".",1)[0];c="".concat(r[f]||r._domain_not_found,"-entity")}else c=t.type||s;if(void 0===c)throw new Error("No type specified");var v="hui-".concat(c,"-").concat(e);if(i&&c in i)return i[c](),function(e,t){if(customElements.get(e))return l(e,t);var n=document.createElement(e);return customElements.whenDefined(e).then((function(){try{customElements.upgrade(n),n.setConfig(t)}catch(e){(0,o.B)(n,"ll-rebuild")}})),n}(v,t);if(n&&n.has(c))return l(v,t);throw new Error("Unknown type encountered: ".concat(c))},m=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,n,r,a){var o,s,c,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=h(t))){e.next=8;break}if(!(s=customElements.get(o))){e.next=5;break}return e.abrupt("return",s);case 5:if(o.includes("-")){e.next=7;break}throw new Error("Custom element not found: ".concat(o));case 7:return e.abrupt("return",new Promise((function(e,t){setTimeout((function(){return t(new Error("Custom element not found: ".concat(o)))}),2e3),customElements.whenDefined(o).then((function(){return e(customElements.get(o))}))})));case 8:if(c="hui-".concat(t,"-").concat(n),u=customElements.get(c),!r||!r.has(t)){e.next=12;break}return e.abrupt("return",u);case 12:if(!a||!(t in a)){e.next=14;break}return e.abrupt("return",u||a[t]().then((function(){return customElements.get(c)})));case 14:throw new Error("Unknown type: ".concat(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,i,r){return e.apply(this,arguments)}}()},89026:function(e,t,n){n.d(t,{Q:function(){return o},t:function(){return a}});var i=n(7778),r={picture:function(){return n.e(69130).then(n.bind(n,69130))},buttons:function(){return Promise.all([n.e(42109),n.e(32587)]).then(n.bind(n,32587))},graph:function(){return n.e(22486).then(n.bind(n,22486))}},a=function(e){return(0,i.Tw)("header-footer",e,void 0,r,void 0,void 0)},o=function(e){return(0,i.ED)(e,"header-footer",void 0,r)}},37482:function(e,t,n){n.d(t,{T:function(){return c},m:function(){return s}});n(12141),n(31479),n(23266),n(65716),n(99931),n(83896),n(45340),n(56427),n(23658);var i=n(7778),r=new Set(["media-player-entity","scene-entity","script-entity","sensor-entity","simple-entity","toggle-entity","button","call-service"]),a={"button-entity":function(){return n.e(85611).then(n.bind(n,85611))},"climate-entity":function(){return n.e(35642).then(n.bind(n,35642))},"cover-entity":function(){return n.e(16755).then(n.bind(n,16755))},"date-entity":function(){return Promise.all([n.e(46992),n.e(31338),n.e(42977),n.e(17489)]).then(n.bind(n,17489))},"datetime-entity":function(){return Promise.all([n.e(46992),n.e(31338),n.e(42977),n.e(79071),n.e(63436),n.e(99608),n.e(65666),n.e(75943),n.e(79344),n.e(85066),n.e(98208)]).then(n.bind(n,98208))},"group-entity":function(){return n.e(81534).then(n.bind(n,81534))},"input-button-entity":function(){return n.e(83968).then(n.bind(n,83968))},"humidifier-entity":function(){return n.e(41102).then(n.bind(n,41102))},"input-datetime-entity":function(){return Promise.all([n.e(46992),n.e(31338),n.e(42977),n.e(79071),n.e(63436),n.e(99608),n.e(65666),n.e(75943),n.e(85066),n.e(22350)]).then(n.bind(n,22350))},"input-number-entity":function(){return Promise.all([n.e(46992),n.e(31338),n.e(42977),n.e(12335)]).then(n.bind(n,33906))},"input-select-entity":function(){return Promise.all([n.e(46992),n.e(79071),n.e(63436),n.e(99608),n.e(65666),n.e(75943),n.e(25675)]).then(n.bind(n,25675))},"input-text-entity":function(){return Promise.all([n.e(46992),n.e(31338),n.e(42977),n.e(73943)]).then(n.bind(n,73943))},"lock-entity":function(){return n.e(61596).then(n.bind(n,61596))},"number-entity":function(){return Promise.all([n.e(46992),n.e(31338),n.e(42977),n.e(66778)]).then(n.bind(n,66778))},"select-entity":function(){return Promise.all([n.e(46992),n.e(79071),n.e(63436),n.e(99608),n.e(65666),n.e(75943),n.e(35994)]).then(n.bind(n,35994))},"text-entity":function(){return Promise.all([n.e(46992),n.e(31338),n.e(42977),n.e(97600)]).then(n.bind(n,97600))},"time-entity":function(){return Promise.all([n.e(46992),n.e(31338),n.e(42977),n.e(79071),n.e(63436),n.e(99608),n.e(65666),n.e(75943),n.e(85066),n.e(35246)]).then(n.bind(n,46331))},"timer-entity":function(){return n.e(31203).then(n.bind(n,31203))},conditional:function(){return n.e(97749).then(n.bind(n,97749))},"weather-entity":function(){return n.e(71850).then(n.bind(n,71850))},divider:function(){return n.e(41930).then(n.bind(n,41930))},section:function(){return n.e(94832).then(n.bind(n,94832))},weblink:function(){return n.e(44689).then(n.bind(n,44689))},cast:function(){return n.e(25840).then(n.bind(n,25840))},buttons:function(){return Promise.all([n.e(42109),n.e(82137)]).then(n.bind(n,82137))},attribute:function(){return Promise.resolve().then(n.bind(n,45340))},text:function(){return n.e(63459).then(n.bind(n,63459))}},o={_domain_not_found:"simple",alert:"toggle",automation:"toggle",button:"button",climate:"climate",cover:"cover",date:"date",datetime:"datetime",fan:"toggle",group:"group",humidifier:"humidifier",input_boolean:"toggle",input_button:"input-button",input_number:"input-number",input_select:"input-select",input_text:"input-text",light:"toggle",lock:"lock",media_player:"media-player",number:"number",remote:"toggle",scene:"scene",script:"script",select:"select",sensor:"sensor",siren:"toggle",switch:"toggle",text:"text",time:"time",timer:"timer",vacuum:"toggle",water_heater:"climate",input_datetime:"input-datetime",weather:"weather"},s=function(e){return(0,i.Tw)("row",e,r,a,o,void 0)},c=function(e){return(0,i.ED)(e,"row",r,a)}},97504:function(e,t,n){n.d(t,{F:function(){return a},L:function(){return r}});var i=n(47181),r=function(){return Promise.all([n.e(46992),n.e(31338),n.e(42977),n.e(28597),n.e(41985),n.e(17333),n.e(81480),n.e(20671),n.e(37168),n.e(46653),n.e(49531)]).then(n.bind(n,52408))},a=function(e,t){(0,i.B)(e,"show-dialog",{dialogTag:"hui-dialog-create-card",dialogImport:r,dialogParams:t})}},62765:function(e,t,n){n.d(t,{K:function(){return r},k:function(){return a}});var i=n(47181),r=function(){return n.e(95050).then(n.bind(n,95050))},a=function(e,t){(0,i.B)(e,"show-dialog",{dialogTag:"hui-dialog-delete-card",dialogImport:r,dialogParams:t})}},18678:function(e,t,n){n.d(t,{I:function(){return r},x:function(){return a}});var i=n(47181),r=function(){return Promise.all([n.e(28597),n.e(77426),n.e(52092),n.e(26633),n.e(42609)]).then(n.bind(n,42609))},a=function(e,t){(0,i.B)(e,"show-dialog",{dialogTag:"hui-dialog-edit-card",dialogImport:r,dialogParams:t})}},54324:function(e,t,n){n.d(t,{BN:function(){return o},LG:function(){return s},PT:function(){return p},Uo:function(){return f},Y7:function(){return l},YI:function(){return v},Z0:function(){return a},c5:function(){return d},f1:function(){return c},mA:function(){return m},qD:function(){return u},wI:function(){return h}});var i=n(53709),r=n(68990),a=function(e,t,n){var a=(0,r.Z)(t,1)[0],o=[];return e.views.forEach((function(t,r){if(r===a){var s=t.cards?[].concat((0,i.Z)(t.cards),[n]):[n];o.push(Object.assign(Object.assign({},t),{},{cards:s}))}else o.push(e.views[r])})),Object.assign(Object.assign({},e),{},{views:o})},o=function(e,t,n){var a=(0,r.Z)(t,1)[0],o=[];return e.views.forEach((function(t,r){if(r===a){var s=t.cards?[].concat((0,i.Z)(t.cards),(0,i.Z)(n)):(0,i.Z)(n);o.push(Object.assign(Object.assign({},t),{},{cards:s}))}else o.push(e.views[r])})),Object.assign(Object.assign({},e),{},{views:o})},s=function(e,t,n){var i=(0,r.Z)(t,2),a=i[0],o=i[1],s=[];return e.views.forEach((function(t,i){i===a?s.push(Object.assign(Object.assign({},t),{},{cards:(t.cards||[]).map((function(e,t){return t===o?n:e}))})):s.push(e.views[i])})),Object.assign(Object.assign({},e),{},{views:s})},c=function(e,t){var n=(0,r.Z)(t,2),i=n[0],a=n[1],o=[];return e.views.forEach((function(t,n){n===i?o.push(Object.assign(Object.assign({},t),{},{cards:(t.cards||[]).filter((function(e,t){return t!==a}))})):o.push(e.views[n])})),Object.assign(Object.assign({},e),{},{views:o})},u=function(e,t,n){var a=(0,r.Z)(t,2),o=a[0],s=a[1],c=[];return e.views.forEach((function(t,r){if(r===o){var a=t.cards?[].concat((0,i.Z)(t.cards.slice(0,s)),[n],(0,i.Z)(t.cards.slice(s))):[n];c.push(Object.assign(Object.assign({},t),{},{cards:a}))}else c.push(e.views[r])})),Object.assign(Object.assign({},e),{},{views:c})},l=function(e,t,n){var i=e.views[t[0]].cards[t[1]],r=e.views[n[0]].cards[n[1]],a=e.views[t[0]],o=Object.assign(Object.assign({},a),{},{cards:a.cards.map((function(e,n){return n===t[1]?r:e}))}),s=t[0]===n[0]?o:e.views[n[0]],c=Object.assign(Object.assign({},s),{},{cards:s.cards.map((function(e,t){return t===n[1]?i:e}))});return Object.assign(Object.assign({},e),{},{views:e.views.map((function(e,i){return i===n[0]?c:i===t[0]?o:e}))})},d=function(e,t,n){var r=e.views[t[0]],a=t[1],o=Math.max(Math.min(n-1,r.cards.length-1),0),s=(0,i.Z)(r.cards),c=s[a];s.splice(a,1),s.splice(o,0,c);var u=Object.assign(Object.assign({},r),{},{cards:s});return Object.assign(Object.assign({},e),{},{views:e.views.map((function(e,n){return n===t[0]?u:e}))})},h=function(e,t,n){if(t[0]===n[0])throw new Error("You cannot move a card to the view it is in.");var r=e.views[t[0]],a=r.cards[t[1]],o=Object.assign(Object.assign({},r),{},{cards:(r.cards||[]).filter((function(e,n){return n!==t[1]}))}),s=e.views[n[0]],c=s.cards?[].concat((0,i.Z)(s.cards),[a]):[a],u=Object.assign(Object.assign({},s),{},{cards:c});return Object.assign(Object.assign({},e),{},{views:e.views.map((function(e,i){return i===n[0]?u:i===t[0]?o:e}))})},f=function(e,t){return Object.assign(Object.assign({},e),{},{views:e.views.concat(t)})},v=function(e,t,n){return Object.assign(Object.assign({},e),{},{views:e.views.map((function(e,i){return i===t?n:e}))})},m=function(e,t,n){var i=e.views[t],r=e.views[n];return Object.assign(Object.assign({},e),{},{views:e.views.map((function(e,a){return a===n?i:a===t?r:e}))})},p=function(e,t){return Object.assign(Object.assign({},e),{},{views:e.views.filter((function(e,n){return n!==t}))})}},12042:function(e,t,n){n.d(t,{ar:function(){return h},mQ:function(){return f},to:function(){return d}});var i,r,a=n(99312),o=n(81043),s="custom:",c={"original-states":(r=(0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(19667),n.e(55424),n.e(47680),n.e(43600)]).then(n.bind(n,76478));case 2:return e.abrupt("return",e.sent.OriginalStatesStrategy);case 3:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)}),energy:(i=(0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(19667),n.e(55424),n.e(54743)]).then(n.bind(n,66054));case 2:return e.abrupt("return",e.sent.EnergyStrategy);case 3:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},u=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in c)){e.next=4;break}return e.next=3,c[t]();case 3:return e.abrupt("return",e.sent);case 4:if(t.startsWith(s)){e.next=6;break}throw new Error("Unknown strategy");case 6:return n="ll-strategy-".concat(t.substr(7)),e.next=9,Promise.race([customElements.whenDefined(n),new Promise((function(e){setTimeout((function(){return e(!0)}),5e3)}))]);case 9:if(e.t0=e.sent,!0!==e.t0){e.next=12;break}throw new Error("Timeout waiting for strategy element ".concat(n," to be registered"));case 12:return e.abrupt("return",customElements.get(n));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n,i,r){var o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",n("No strategy type found"));case 2:return e.prev=2,e.next=5,u(r);case 5:return o=e.sent,e.next=8,o[t](i);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(2),"timeout"!==e.t0.message&&console.error(e.t0),e.abrupt("return",n(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n,i,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n){var i,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l("generateDashboard",(function(e){return{views:[{title:"Error",cards:[{type:"markdown",content:"Error loading the dashboard strategy:\n> ".concat(e)}]}]}}),t,n||(null===(i=t.config)||void 0===i||null===(r=i.strategy)||void 0===r?void 0:r.type)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n){var i,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l("generateView",(function(e){return{cards:[{type:"markdown",content:"Error loading the view strategy:\n> ".concat(e)}]}}),t,n||(null===(i=t.view)||void 0===i||null===(r=i.strategy)||void 0===r?void 0:r.type)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.strategy){e.next=6;break}return e.next=3,d(t);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=Object.assign({},t.config);case 7:return n=e.t0,e.next=10,Promise.all(n.views.map((function(e){return e.strategy?h({hass:t.hass,narrow:t.narrow,config:n,view:e}):e})));case 10:return n.views=e.sent,e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},13192:function(e,t,n){n.d(t,{Jh:function(){return r},Zx:function(){return i},cW:function(){return o},rQ:function(){return a}});var i="masonry",r="panel",a="sidebar",o=[r,a]},51292:function(e,t,n){var i,r,a,o,s=n(99312),c=n(81043),u=n(33368),l=n(71650),d=n(82390),h=n(69205),f=n(70906),v=n(91808),m=n(34541),p=n(47838),b=n(68144),g=n(79932),y=n(62877),k=(n(6315),n(52039),n(4289)),_=n(90271),w=n(39431),Z=n(51153),x=n(7778),C=n(68990),E=n(40039),O=n(88962),P=n(83448),j=n(47181),M=n(87744),T=n(96151),N=n(50467),S=function(e,t){for(var n=0,i=0;i<e.length;i++){if(e[i]<5){n=i;break}e[i]<e[n]&&(n=i)}return e[n]+=t,n},z=(0,v.Z)(null,(function(e,t){var v,y=function(t){(0,h.Z)(i,t);var n=(0,f.Z)(i);function i(){var t;return(0,l.Z)(this,i),t=n.call(this),e((0,d.Z)(t)),t.addEventListener("iron-resize",(function(e){return e.stopPropagation()})),t}return(0,u.Z)(i)}(t);return{F:y,d:[{kind:"field",decorators:[(0,g.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,g.Cb)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,g.Cb)({type:Boolean})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,g.Cb)({type:Number})],key:"index",value:void 0},{kind:"field",decorators:[(0,g.Cb)({type:Boolean})],key:"isStrategy",value:function(){return!1}},{kind:"field",decorators:[(0,g.Cb)({attribute:!1})],key:"cards",value:function(){return[]}},{kind:"field",decorators:[(0,g.Cb)({attribute:!1})],key:"badges",value:function(){return[]}},{kind:"field",decorators:[(0,g.SB)()],key:"_columns",value:void 0},{kind:"field",key:"_createColumnsIteration",value:function(){return 0}},{kind:"field",key:"_mqls",value:void 0},{kind:"field",key:"_mqlListenerRef",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,m.Z)((0,p.Z)(y.prototype),"connectedCallback",this).call(this),this._initMqls()}},{kind:"method",key:"disconnectedCallback",value:function(){var e,t=this;(0,m.Z)((0,p.Z)(y.prototype),"disconnectedCallback",this).call(this),null===(e=this._mqls)||void 0===e||e.forEach((function(e){e.removeListener(t._mqlListenerRef)})),this._mqlListenerRef=void 0,this._mqls=void 0}},{kind:"method",key:"setConfig",value:function(e){}},{kind:"method",key:"render",value:function(){var e,t;return(0,b.dy)(i||(i=(0,O.Z)([" ",' <div id="columns" class="','"></div> '," "])),this.badges.length>0?(0,b.dy)(r||(r=(0,O.Z)(['<div class="badges">',"</div>"])),this.badges):"",null!==(e=this.lovelace)&&void 0!==e&&e.editMode?"edit-mode":"",null!==(t=this.lovelace)&&void 0!==t&&t.editMode?(0,b.dy)(a||(a=(0,O.Z)([' <ha-fab .label="','" extended @click="','" class="','"> <ha-svg-icon slot="icon" .path="','"></ha-svg-icon> </ha-fab> '])),this.hass.localize("ui.panel.lovelace.editor.edit_card.add"),this._addCard,(0,P.$)({rtl:(0,M.HE)(this.hass)}),"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"):"")}},{kind:"method",key:"_initMqls",value:function(){var e=this;this._mqls=[300,600,900,1200].map((function(t){var n=window.matchMedia("(min-width: ".concat(t,"px)"));return e._mqlListenerRef||(e._mqlListenerRef=e._updateColumns.bind(e)),n.addListener(e._mqlListenerRef),n}))}},{kind:"get",key:"mqls",value:function(){return this._mqls||this._initMqls(),this._mqls}},{kind:"method",key:"willUpdate",value:function(e){var t;if((0,m.Z)((0,p.Z)(y.prototype),"willUpdate",this).call(this,e),null!==(t=this.lovelace)&&void 0!==t&&t.editMode&&Promise.all([n.e(79071),n.e(63436),n.e(99608),n.e(65666),n.e(49826)]).then(n.bind(n,49826)),e.has("hass")){var i=e.get("hass");if(this.hass.dockedSidebar!==(null==i?void 0:i.dockedSidebar))return void this._updateColumns()}if(e.has("narrow"))this._updateColumns();else{var r=e.get("lovelace");(e.has("cards")||e.has("lovelace")&&r&&(r.config!==this.lovelace.config||r.editMode!==this.lovelace.editMode))&&this._createColumns()}}},{kind:"method",key:"_addCard",value:function(){(0,j.B)(this,"ll-create-card")}},{kind:"method",key:"_createRootElement",value:function(e){for(var t=this.shadowRoot.getElementById("columns");t.lastChild;)t.removeChild(t.lastChild);e.forEach((function(e){return t.appendChild(e)}))}},{kind:"method",key:"_createColumns",value:(v=(0,c.Z)((0,s.Z)().mark((function e(){var t,n,i,r,a,o,c,u,l,d,h,f,v,m,p,b,g,y=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._columns){e.next=2;break}return e.abrupt("return");case 2:for(this._createColumnsIteration++,t=this._createColumnsIteration,n=[],i=[],r=0;r<Math.min(this._columns,this.cards.length);r++)(a=document.createElement("div")).classList.add("column"),n.push(0),i.push(a);this.hasUpdated?this._createRootElement(i):this.updateComplete.then((function(){y._createRootElement(i)})),u=(0,E.Z)(this.cards.entries()),e.prev=9,u.s();case 11:if((l=u.n()).done){e.next=27;break}return d=(0,C.Z)(l.value,2),h=d[0],f=d[1],void 0===o&&(o=(0,T.y)().then((function(){o=void 0,c=void 0}))),v=void 0,void 0===c?c=new Date:(new Date).getTime()-c.getTime()>16&&(v=o),m=(0,N.N)(f),e.next=19,Promise.all([m,v]);case 19:if(p=e.sent,b=(0,C.Z)(p,1),g=b[0],t===this._createColumnsIteration){e.next=24;break}return e.abrupt("return");case 24:this._addCardToColumn(i[S(n,g)],h,this.lovelace.editMode);case 25:e.next=11;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(9),u.e(e.t0);case 32:return e.prev=32,u.f(),e.finish(32);case 35:i.forEach((function(e){e.lastChild||e.parentElement.removeChild(e)}));case 36:case"end":return e.stop()}}),e,this,[[9,29,32,35]])}))),function(){return v.apply(this,arguments)})},{kind:"method",key:"_addCardToColumn",value:function(e,t,n){var i=this.cards[t];if(!n||this.isStrategy)i.editMode=!1,e.appendChild(i);else{var r=document.createElement("hui-card-options");r.hass=this.hass,r.lovelace=this.lovelace,r.path=[this.index,t],i.editMode=!0,r.appendChild(i),e.appendChild(r)}}},{kind:"method",key:"_updateColumns",value:function(){var e=this.mqls.reduce((function(e,t){return e+Number(t.matches)}),0),t=Math.max(1,e-Number(!this.narrow&&"docked"===this.hass.dockedSidebar));t!==this._columns&&(this._columns=t,this._createColumns())}},{kind:"get",static:!0,key:"styles",value:function(){return(0,b.iv)(o||(o=(0,O.Z)([":host{display:block;padding-top:4px}.badges{margin:8px 16px;font-size:85%;text-align:center}#columns{display:flex;flex-direction:row;justify-content:center;margin-left:4px;margin-right:4px}#columns.edit-mode{margin-bottom:72px}.column{flex:1 0 0;max-width:500px;min-width:0}.column:has(>*){flex-grow:1}.column:not(:has(>:not([hidden]))){flex-grow:0}.column>:not([hidden]){display:block;margin:var(--masonry-view-card-margin,4px 4px 8px)}ha-fab{position:fixed;right:calc(16px + env(safe-area-inset-right));bottom:calc(16px + env(safe-area-inset-bottom));z-index:1}ha-fab.rtl{right:auto;left:calc(16px + env(safe-area-inset-left))}@media (max-width:500px){.column>*{margin-left:0;margin-right:0}}@media (max-width:599px){.column{max-width:600px}}"])))}}]}}),b.oi);customElements.define("hui-masonry-view",z);var B=new Set(["masonry"]),L={panel:function(){return n.e(48480).then(n.bind(n,48480))},sidebar:function(){return n.e(60999).then(n.bind(n,60999))}},H=n(97504),R=n(18678),I=n(26765),V=n(81796),D=function(e,t,n){var i={message:t.localize("ui.common.successfully_deleted")};n&&(i.action={action:n,text:t.localize("ui.common.undo")}),(0,V.C)(e,i)},q=n(62765),F=n(54324);function A(){return A=(0,c.Z)((0,s.Z)().mark((function e(t,n,i,r){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=i.config.views[r[0]].cards[r[1]],(0,q.k)(t,{cardConfig:a,deleteCard:function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var o,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=(0,F.f1)(i.config,r),e.next=4,i.saveConfig(o);case 4:u=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.saveConfig((0,F.qD)(o,r,a));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D(t,n,u),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),(0,I.Ys)(t,{text:"Deleting failed: ".concat(e.t0.message)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}var U=n(12042),W=n(13192);(0,v.Z)([(0,g.Mo)("hui-view")],(function(e,t){var n,i=function(t){(0,h.Z)(i,t);var n=(0,f.Z)(i);function i(){var t;(0,l.Z)(this,i);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=n.call.apply(n,[this].concat(a)),e((0,d.Z)(t)),t}return(0,u.Z)(i)}(t);return{F:i,d:[{kind:"field",decorators:[(0,g.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,g.Cb)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,g.Cb)({type:Boolean})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,g.Cb)({type:Number})],key:"index",value:void 0},{kind:"field",decorators:[(0,g.SB)()],key:"_cards",value:function(){return[]}},{kind:"field",decorators:[(0,g.SB)()],key:"_badges",value:function(){return[]}},{kind:"field",key:"_layoutElementType",value:void 0},{kind:"field",key:"_layoutElement",value:void 0},{kind:"field",key:"_viewConfigTheme",value:void 0},{kind:"method",key:"createCardElement",value:function(e){var t=this,n=(0,Z.Z6)(e);try{n.hass=this.hass}catch(i){return(0,x.Pc)((0,x.N2)(i.message,e))}return n.addEventListener("ll-rebuild",(function(i){t.lovelace.editMode||(i.stopPropagation(),t._rebuildCard(n,e))}),{once:!0}),n}},{kind:"method",key:"createBadgeElement",value:function(e){var t=this,n=(0,w.J)(e);try{n.hass=this.hass}catch(i){return(0,k.wt)((0,k.Fr)(i.message))}return n.addEventListener("ll-badge-rebuild",(function(){t._rebuildBadge(n,e)}),{once:!0}),n}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"willUpdate",value:function(e){(0,m.Z)((0,p.Z)(i.prototype),"willUpdate",this).call(this,e);var t=e.get("lovelace");(e.has("index")||e.has("lovelace")&&(!t||this.lovelace.config.views[this.index]!==t.config.views[this.index]))&&this._initializeConfig()}},{kind:"method",key:"update",value:function(e){var t=this;if((0,m.Z)((0,p.Z)(i.prototype),"update",this).call(this,e),this._layoutElement){if(e.has("hass")){this._badges.forEach((function(e){try{e.hass=t.hass}catch(n){t._rebuildBadge(e,(0,k.Fr)(n.message))}})),this._cards.forEach((function(e){try{e.hass=t.hass}catch(n){t._rebuildCard(e,(0,x.N2)(n.message,null))}})),this._layoutElement.hass=this.hass;var n=e.get("hass");n&&this.hass.themes===n.themes&&this.hass.selectedTheme===n.selectedTheme||(0,y.R)(this,this.hass.themes,this._viewConfigTheme)}e.has("narrow")&&(this._layoutElement.narrow=this.narrow),e.has("lovelace")&&(this._layoutElement.lovelace=this.lovelace),e.has("_cards")&&(this._layoutElement.cards=this._cards),e.has("_badges")&&(this._layoutElement.badges=this._badges)}}},{kind:"method",key:"_initializeConfig",value:(n=(0,c.Z)((0,s.Z)().mark((function e(){var t,n,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.lovelace.config.views[this.index],n=!1,!t.strategy){e.next=7;break}return n=!0,e.next=6,(0,U.ar)({hass:this.hass,config:this.lovelace.config,narrow:this.narrow,view:t});case 6:t=e.sent;case 7:if(t=Object.assign(Object.assign({},t),{},{type:t.panel?W.Jh:t.type||W.Zx}),i=!1,this._layoutElement&&this._layoutElementType===t.type||(i=!0,this._createLayoutElement(t)),this._createBadges(t),this._createCards(t),this._layoutElement.isStrategy=n,this._layoutElement.hass=this.hass,this._layoutElement.narrow=this.narrow,this._layoutElement.lovelace=this.lovelace,this._layoutElement.index=this.index,this._layoutElement.cards=this._cards,this._layoutElement.badges=this._badges,(0,y.R)(this,this.hass.themes,t.theme),this._viewConfigTheme=t.theme,i){for(;this.lastChild;)this.removeChild(this.lastChild);this.appendChild(this._layoutElement)}case 22:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{kind:"method",key:"_createLayoutElement",value:function(e){var t=this;this._layoutElement=function(e){return(0,x.Tw)("view",e,B,L)}(e),this._layoutElementType=e.type,this._layoutElement.addEventListener("ll-create-card",(function(){(0,H.F)(t,{lovelaceConfig:t.lovelace.config,saveConfig:t.lovelace.saveConfig,path:[t.index]})})),this._layoutElement.addEventListener("ll-edit-card",(function(e){(0,R.x)(t,{lovelaceConfig:t.lovelace.config,saveConfig:t.lovelace.saveConfig,path:e.detail.path})})),this._layoutElement.addEventListener("ll-delete-card",(function(e){if(e.detail.confirm)!function(e,t,n,i){A.apply(this,arguments)}(t,t.hass,t.lovelace,e.detail.path);else{var n=(0,F.f1)(t.lovelace.config,e.detail.path);t.lovelace.saveConfig(n)}}))}},{kind:"method",key:"_createBadges",value:function(e){var t=this;if(e&&e.badges&&Array.isArray(e.badges)){var n=(0,_.A)(e.badges);this._badges=n.map((function(e){var n=(0,w.J)(e);try{n.hass=t.hass}catch(i){return(0,k.wt)((0,k.Fr)(i.message))}return n}))}else this._badges=[]}},{kind:"method",key:"_createCards",value:function(e){var t=this;e&&e.cards&&Array.isArray(e.cards)?this._cards=e.cards.map((function(e){var n=t.createCardElement(e);try{n.hass=t.hass}catch(i){return(0,x.Pc)((0,x.N2)(i.message,e))}return n})):this._cards=[]}},{kind:"method",key:"_rebuildCard",value:function(e,t){var n=this.createCardElement(t);try{n.hass=this.hass}catch(i){n=(0,x.Pc)((0,x.N2)(i.message,t))}e.parentElement&&e.parentElement.replaceChild(n,e),this._cards=this._cards.map((function(t){return t===e?n:t}))}},{kind:"method",key:"_rebuildBadge",value:function(e,t){var n=this.createBadgeElement(t);try{n.hass=this.hass}catch(i){n=(0,k.wt)((0,k.Fr)(i.message))}e.parentElement&&e.parentElement.replaceChild(n,e),this._badges=this._badges.map((function(t){return t===e?n:t}))}}]}}),b.fl)}}]);
//# sourceMappingURL=27308-iVKMhHOkSN4.js.map