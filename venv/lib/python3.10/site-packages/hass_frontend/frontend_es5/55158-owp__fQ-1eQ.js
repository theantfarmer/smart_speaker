"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[55158],{55158:function(e,t,s){s.r(t),s.d(t,{EnergySetupWizard:function(){return D}});var n,i,r,a,h,c,o,u,d,p,f,l,g=s(99312),y=s(81043),_=s(88962),v=s(33368),k=s(71650),m=s(82390),Z=s(69205),b=s(70906),w=s(91808),x=s(68144),C=s(79932),z=s(47181),S=s(55424),B=(s(53918),s(99012),s(84744),s(74982),s(2447),s(33885),s(74501),s(11654)),F=s(26765),D=(0,w.Z)([(0,C.Mo)("energy-setup-wizard-card")],(function(e,t){var s,w,D=function(t){(0,Z.Z)(n,t);var s=(0,b.Z)(n);function n(){var t;(0,k.Z)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=s.call.apply(s,[this].concat(r)),e((0,m.Z)(t)),t}return(0,v.Z)(n)}(t);return{F:D,d:[{kind:"field",decorators:[(0,C.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,C.Cb)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_info",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_step",value:function(){return 0}},{kind:"field",decorators:[(0,C.SB)()],key:"_preferences",value:function(){return{energy_sources:[],device_consumption:[]}}},{kind:"method",key:"getCardSize",value:function(){return 10}},{kind:"method",key:"setConfig",value:function(e){e.preferences&&(this._preferences=e.preferences)}},{kind:"method",key:"firstUpdated",value:function(){this.hass.loadFragmentTranslation("config"),this._fetchconfig()}},{kind:"method",key:"render",value:function(){return(0,x.dy)(n||(n=(0,_.Z)([" <p> "," </p> ",' <div class="buttons"> '," "," </div> "])),this.hass.localize("ui.panel.energy.setup.step",{step:this._step+1,steps:6}),0===this._step?(0,x.dy)(i||(i=(0,_.Z)(['<ha-energy-grid-settings .hass="','" .preferences="','" @value-changed="','"></ha-energy-grid-settings>'])),this.hass,this._preferences,this._prefsChanged):1===this._step?(0,x.dy)(r||(r=(0,_.Z)(['<ha-energy-solar-settings .hass="','" .preferences="','" .info="','" @value-changed="','"></ha-energy-solar-settings>'])),this.hass,this._preferences,this._info,this._prefsChanged):2===this._step?(0,x.dy)(a||(a=(0,_.Z)(['<ha-energy-battery-settings .hass="','" .preferences="','" @value-changed="','"></ha-energy-battery-settings>'])),this.hass,this._preferences,this._prefsChanged):3===this._step?(0,x.dy)(h||(h=(0,_.Z)(['<ha-energy-gas-settings .hass="','" .preferences="','" @value-changed="','"></ha-energy-gas-settings>'])),this.hass,this._preferences,this._prefsChanged):4===this._step?(0,x.dy)(c||(c=(0,_.Z)(['<ha-energy-water-settings .hass="','" .preferences="','" @value-changed="','"></ha-energy-water-settings>'])),this.hass,this._preferences,this._prefsChanged):(0,x.dy)(o||(o=(0,_.Z)(['<ha-energy-device-settings .hass="','" .preferences="','" @value-changed="','"></ha-energy-device-settings>'])),this.hass,this._preferences,this._prefsChanged),this._step>0?(0,x.dy)(u||(u=(0,_.Z)(['<mwc-button outlined @click="','">',"</mwc-button>"])),this._back,this.hass.localize("ui.panel.energy.setup.back")):(0,x.dy)(d||(d=(0,_.Z)(["<div></div>"]))),this._step<4?(0,x.dy)(p||(p=(0,_.Z)(['<mwc-button unelevated @click="','">',"</mwc-button>"])),this._next,this.hass.localize("ui.panel.energy.setup.next")):(0,x.dy)(f||(f=(0,_.Z)(['<mwc-button unelevated @click="','"> '," </mwc-button>"])),this._setupDone,this.hass.localize("ui.panel.energy.setup.done")))}},{kind:"method",key:"_fetchconfig",value:(w=(0,y.Z)((0,g.Z)().mark((function e(){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.xZ)(this.hass);case 2:this._info=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{kind:"method",key:"_prefsChanged",value:function(e){this._preferences=e.detail.value}},{kind:"method",key:"_back",value:function(){0!==this._step&&this._step--}},{kind:"method",key:"_next",value:function(){5!==this._step&&this._step++}},{kind:"method",key:"_setupDone",value:(s=(0,y.Z)((0,g.Z)().mark((function e(){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._preferences){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,S._Z)(this.hass,this._preferences);case 5:this._preferences=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),(0,F.Ys)(this,{title:"Failed to save config: ".concat(e.t0.message)});case 11:(0,z.B)(this,"reload-energy-panel");case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return s.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[B.Qx,(0,x.iv)(l||(l=(0,_.Z)([":host{display:block;padding:16px;max-width:700px;margin:0 auto}mwc-button{margin-top:8px}.buttons{display:flex;justify-content:space-between}"])))]}}]}}),x.oi)}}]);
//# sourceMappingURL=55158-owp__fQ-1eQ.js.map